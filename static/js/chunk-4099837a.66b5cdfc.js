(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4099837a"],{"0815":function(e,t,a){},1568:function(e,t,a){"use strict";a("814f")},"1dea":function(e,t,a){"use strict";var c=a("7a23");const n={class:"d-inline"},l={class:"input-group"},o=["disabled"],s={class:"dropdown-company-menu dropdown-menu"},d={class:"p-2 pt-1 searchlist-input"},i={class:"limitDropDown list-unstyled dropdown-list mb-0"},r=["onClick"];function m(e,t,a,m,b,p){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("i",{class:Object(c["normalizeClass"])(["input-group-text ri-building-line bg-white border-end-0 pe-0",{disableInput:e.companyList.length<2}])},null,2),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>b.selectedCompany=e),type:"text",class:"form-control border-start-0 border-end-0",readonly:"",role:"button",placeholder:"請選擇公司別","data-bs-toggle":"dropdown","data-bs-auto-close":"true","aria-expanded":"false",disabled:e.companyList.length<2},null,8,o),[[c["vModelText"],b.selectedCompany]]),Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",d,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>b.companyKeyWord=e),placeholder:"查詢公司關鍵字",class:"form-control-sm border search-countryList w-100"},null,512),[[c["vModelText"],b.companyKeyWord]])]),Object(c["createElementVNode"])("ul",i,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(p.filterCompanyList,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:e.id,class:Object(c["normalizeClass"])({active:b.selectedCompany===e.name})},[Object(c["createElementVNode"])("button",{type:"button",class:"btn",onClick:t=>p.setSelectCompany(e.name,e.id)},Object(c["toDisplayString"])(e.name),9,r)],2))),128))])]),Object(c["createElementVNode"])("i",{"data-bs-toggle":"dropdown","data-bs-auto-close":"true","aria-expanded":"false",class:Object(c["normalizeClass"])(["input-group-text ri-arrow-down-s-line bg-white border-start-0 ps-0",{disableInput:e.companyList.length<2}])},null,2)])])}var b=a("5502"),p=a("c535"),_={data(){return{companyKeyWord:"",selectedCompany:"",selectedCompanyId:""}},emits:["setCompanyId"],props:{page:{type:String}},computed:{...Object(b["c"])(["companyList","searchCompany"]),filterCompanyList(){return this.companyList.length>0?this.companyList.filter(e=>e.name.match(this.companyKeyWord)||e.id.match(this.companyKeyWord)):[]}},watch:{companyKeyWord:{immediate:!0,handler(e,t){0!==this.filterCompanyList.length&&(""===e&&t||""!==e)&&(this.selectedCompanyId=this.filterCompanyList[0].id,this.selectedCompany=this.filterCompanyList[0].name,this.getData())}},selectedCompanyId:{immediate:!0,handler(e){this.$emit("setCompanyId",e)}}},methods:{async getData(){this.$store.dispatch("setLoading");const e={company_id:this.selectedCompanyId};if("comboManage"===this.page)await Promise.all([this.$store.dispatch("getCombos",e),this.$store.dispatch("getAllComboListData",e)]);else if("companyManage"===this.page)await Promise.all([this.$store.dispatch("getCompanyConfig",e),this.$store.dispatch("getWebPlatformConfig",e)]);else if("promotionManage"===this.page){const t=new Date,a=t.getFullYear(),c=t.getMonth(),n=new Date(a,c,1),l=new Date(a,c+1,0);await Promise.all([this.$store.dispatch("getCompanyConfig",e),this.$store.dispatch("getPromotionBasicData",e),this.$store.dispatch("getPromotions",{...e,status:"ACTIVE",types:JSON.stringify(["ALL"]),start_date:Object(p["g"])(n),end_date:Object(p["g"])(l)})])}this.$store.dispatch("hideLoading")},setSelectCompany(e,t){this.selectedCompany=e,this.selectedCompanyId=t,this.getData()}},async created(){this.$store.dispatch("setLoading"),await this.$store.dispatch("getCompanyList"),this.searchCompany?(this.selectedCompanyId=this.searchCompany,this.selectedCompany=this.companyList.find(e=>e.id===this.searchCompany).name,this.$store.commit("SET_SEARCH_COMPANY",null)):(this.selectedCompany=this.companyList[0].name,this.selectedCompanyId=this.companyList[0].id),await this.getData(),this.$store.dispatch("hideLoading")}},u=(a("c579"),a("6b0d")),O=a.n(u);const h=O()(_,[["render",m],["__scopeId","data-v-b46f6534"]]);t["a"]=h},2579:function(e,t,a){"use strict";var c=a("7a23");const n={class:"row mb-lg-4 mb-5"},l={class:"col-12"},o={ref:"pageTitle",class:"page-title-box d-sm-flex align-items-center justify-content-between"},s={class:"mb-sm-0"},d={class:"page-title-right me-5"},i={class:"breadcrumb m-0"},r=["onClick"];function m(e,t,a,m,b,p){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("h4",s,Object(c["toDisplayString"])(a.title),1),Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("ol",i,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(a.items,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{class:"breadItem",key:t},[Object(c["createElementVNode"])("a",{onClick:a=>p.goBack(e.text,t),href:"javascript: void(0);",class:Object(c["normalizeClass"])(["text-nowrap",{active:t+1==a.items.length}])},Object(c["toDisplayString"])(e.text)+Object(c["toDisplayString"])(t+1==a.items.length?"":"　>　"),11,r)]))),128))])])],512)])])}var b={components:{},props:{title:{type:String,default:""},items:{type:Array,default:()=>[]}},methods:{goBack(e,t){0===t&&"訂貨系統"!==e&&this.$route.path.includes("orderingSystem")&&this.$router.back()}},mounted(){}},p=(a("7477"),a("6b0d")),_=a.n(p);const u=_()(b,[["render",m],["__scopeId","data-v-0a664056"]]);t["a"]=u},"2ece":function(e,t,a){},"31c3":function(e,t,a){"use strict";a.d(t,"g",(function(){return s})),a.d(t,"h",(function(){return d})),a.d(t,"i",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"f",(function(){return m})),a.d(t,"a",(function(){return b})),a.d(t,"d",(function(){return p})),a.d(t,"c",(function(){return _})),a.d(t,"b",(function(){return u}));a("14d9");var c=a("3d20"),n=a.n(c),l=a("a18c"),o=a("55cb");const s=e=>new Promise((t,a)=>{n.a.fire({width:"500px",position:"center",icon:"success",title:e,showConfirmButton:!1,timer:1500,customClass:{title:"fs-2 fw-bold",htmlContainer:"message-content",target:"rounded-3"}}).then(()=>{t()})}),d=(e,t,a,c=!1)=>new Promise((l,o)=>{n.a.fire({width:"500px",position:"center",icon:"warning",title:e,html:t,showCancelButton:!0,confirmButtonText:a,cancelButtonText:"取消",buttonsStyling:!1,reverseButtons:c,customClass:{title:"fs-2 fw-bold",htmlContainer:"message-content mx-0",confirmButton:"btn btn-primary confirm-btn d-flex m-1",cancelButton:"btn btn-outline-primary cancel-btn d-flex m-1",target:"rounded-3"},didRender:()=>{const e=document.querySelector(".showDetailText");e&&e.addEventListener("click",()=>{n.a.close()})}}).then(e=>l(e.isConfirmed))}),i=(e,t)=>{n.a.fire({width:"500px",position:"center",icon:"warning",title:e,html:t,confirmButtonText:"確認",buttonsStyling:!1,customClass:{title:"fs-2 fw-bold ",htmlContainer:"message-content mx-0",confirmButton:"btn btn-primary confirm-btn d-flex m-1",target:"rounded-3"}})},r=(e,t,a)=>new Promise((c,l)=>{n.a.fire({width:"500px",position:"center",icon:"error",title:e,html:t,confirmButtonText:"確認",buttonsStyling:!1,customClass:{title:"fs-2 fw-bold ",htmlContainer:"message-content mx-0",confirmButton:"btn btn-primary confirm-btn d-flex m-1",target:"rounded-3"}}).then(e=>{if(c(),e.isConfirmed)if("paymentSettingModal"==a){const e={type:"CREATE"};Object(o["g"])(e)}else a&&Object(o["h"])(a)})}),m=()=>{n.a.fire({width:"500px",title:"尚未建立門市，請至公司管理建立",icon:"warning",showCancelButton:!0,confirmButtonText:"前往設定",cancelButtonText:"返回",buttonsStyling:!1,customClass:{title:"fs-3 fw-bold mb-3",htmlContainer:"message-content",confirmButton:"btn btn-primary confirm-btn d-flex m-1",cancelButton:"btn btn-outline-primary cancel-btn d-flex m-1",target:"rounded-3"}}).then(e=>{e.isConfirmed})},b=()=>{n.a.fire({width:"500px",title:"Uber Eats UUID 尚未建立，請前往設定",icon:"warning",showCancelButton:!0,confirmButtonText:"前往設定",cancelButtonText:"返回",buttonsStyling:!1,customClass:{title:"fs-3 mb-3",confirmButton:"btn btn-primary px-3 me-3",htmlContainer:"message-content",cancelButton:"btn btn-outline-primary px-3",target:"rounded-3"}}).then(e=>{e.isConfirmed&&l["a"].push("/multipleMenu")})},p=()=>{n.a.fire({width:"500px",title:"確定刪除？",text:"刪除後無法復原",icon:"warning",showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消",buttonsStyling:!1,customClass:{title:"fs-3 fw-bold",htmlContainer:"message-content",confirmButton:"btn btn-primary confirm-btn d-flex m-1",cancelButton:"btn btn-outline-primary cancel-btn d-flex m-1",target:"rounded-3"}}).then(e=>{e.isConfirmed})},_=(e,t,a)=>{n.a.fire({width:"500px",title:e,html:`${t} <br><p class="text-order-danger-dark">(-$${a})</p>`,icon:"error",showCancelButton:!1,confirmButtonText:"確認",buttonsStyling:!1,customClass:{title:"fs-3 fw-bold",htmlContainer:"message-content",confirmButton:"btn btn-primary px-4",target:"rounded-3"}})},u=()=>{n.a.fire({width:"500px",title:"請先勾選預刪除的菜單",icon:"warning",showCancelButton:!1,confirmButtonText:"確認",buttonsStyling:!1,customClass:{title:"fs-3 fw-bold",htmlContainer:"message-content",confirmButton:"btn btn-primary px-3 me-3",target:"rounded-3"}})}},3314:function(e,t,a){"use strict";a.r(t);var c=a("7a23");const n={class:"row align-items-center pt-md-3 mb-3"},l={class:"col-md-3 mb-3 mb-md-0"},o={class:"card p-1 p-md-3"};function s(e,t,a,s,d,i){const r=Object(c["resolveComponent"])("PageHeader"),m=Object(c["resolveComponent"])("BasicData"),b=Object(c["resolveComponent"])("CompanyConfig"),p=Object(c["resolveComponent"])("PaymentConfig"),_=Object(c["resolveComponent"])("WebPlatformSetting"),u=Object(c["resolveComponent"])("Layout");return Object(c["openBlock"])(),Object(c["createBlock"])(u,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(r,{title:d.title,items:d.items},null,8,["title","items"]),Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",l,[Object(c["createVNode"])(m,{page:"companyManage",onSetCompanyId:i.setCompanyId},null,8,["onSetCompanyId"])])]),Object(c["createElementVNode"])("div",o,["COMPANY_CONFIG"==d.settingItem?(Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:0})):"COMPANY_PAYMENT_CONFIG"==d.settingItem?(Object(c["openBlock"])(),Object(c["createBlock"])(p,{key:1})):"COMPANY_WEB_PLATFORM"==d.settingItem?(Object(c["openBlock"])(),Object(c["createBlock"])(_,{key:2})):Object(c["createCommentVNode"])("",!0)])]),_:1})}var d=a("6a34"),i=a("2579"),r=a("5502"),m=a("3cac");const b={class:"d-flex border-bottom mb-3"},p={class:"btn-group searchTypeBtns",role:"group","aria-label":"公司設定"},_=Object(c["createElementVNode"])("label",{class:"btn mb-0 pb-2 px-3",for:"companyConfigTab_basicSetting"},"基本設定",-1),u=Object(c["createElementVNode"])("label",{class:"btn mb-0 pb-2 px-3",for:"companyConfigTab_functions"},"功能模組設定",-1),O={class:"d-flex justify-content-end me-2"},h=["data-bs-target"],j=Object(c["createElementVNode"])("i",{class:"ri-pencil-line me-1"},null,-1);function f(e,t,a,n,l,o){const s=Object(c["resolveComponent"])("BasicSetting"),d=Object(c["resolveComponent"])("FunctionModel");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("div",p,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=e=>l.searchType=e),class:"btn-check",value:"BASIC_SETTING",autocomplete:"off",name:"searchTypeRadio",id:"companyConfigTab_basicSetting",checked:""},null,512),[[c["vModelRadio"],l.searchType]]),_,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=e=>l.searchType=e),class:"btn-check",value:"FUNCTION_MODEL",autocomplete:"off",name:"searchTypeRadio",id:"companyConfigTab_functions"},null,512),[[c["vModelRadio"],l.searchType]]),u])]),e.companyConfig?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createElementVNode"])("div",O,[Object(c["createElementVNode"])("button",{type:"button",class:"d-center btn btn-sm btn-outline-primary border border-primary","data-bs-toggle":"modal","data-bs-target":"#"+o.modalId},[j,Object(c["createTextVNode"])("編輯 ")],8,h)]),"BASIC_SETTING"==l.searchType?(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:0})):Object(c["createCommentVNode"])("",!0),"FUNCTION_MODEL"==l.searchType?(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:1})):Object(c["createCommentVNode"])("",!0)],64)):Object(c["createCommentVNode"])("",!0)],64)}const E={class:"py-1 px-3"},N=Object(c["createElementVNode"])("h2",{class:"fs-title mb-1"},"基本設定",-1),V={class:"row"},y={class:"col-6"},v={class:"row item-spacing"},g=Object(c["createElementVNode"])("div",{class:"col-5 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"價格類型")],-1),D={class:"col-7"};function k(e,t,a,n,l,o){const s=Object(c["resolveComponent"])("BasicSettingModal");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",E,[N,Object(c["createElementVNode"])("div",V,[Object(c["createElementVNode"])("div",y,[Object(c["createElementVNode"])("div",v,[g,Object(c["createElementVNode"])("div",D,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(o.translate(e.companyConfig.price_type)),1)])])])])]),Object(c["createVNode"])(s,{editData:e.companyConfig},null,8,["editData"])],64)}const C={class:"modal fade",id:"companyConfigBasicSettingModal",tabindex:"-1","aria-labelledby":"companyConfigBasicSettingModalLabel","aria-hidden":"true"},S={class:"modal-dialog modal-dialog-centered"},I={class:"modal-content"},w=Object(c["createElementVNode"])("div",{class:"modal-header py-2"},[Object(c["createElementVNode"])("h2",{class:"modal-title text-black fs-4 fw-normal",id:"companyConfigBasicSettingModalLabel"}," 編輯基本設定 ")],-1),T={class:"modal-body pb-5"},x=Object(c["createElementVNode"])("h3",{class:"text-black fs-5 mb-3"},"基本設定",-1),P={class:"row align-items-center mb-5"},M=Object(c["createElementVNode"])("div",{class:"col-4"},[Object(c["createElementVNode"])("p",{class:"text-order-dark text-end"},"價格類型")],-1),$={class:"col-5"},B=Object(c["createElementVNode"])("option",{selected:"",disabled:"",value:""},"請選擇價格類型",-1),R=Object(c["createElementVNode"])("option",{value:"UNIFORM_PRICE"},"統一價格",-1),A=Object(c["createElementVNode"])("option",{value:"PRICE_AREA"},"價格區",-1),U=Object(c["createElementVNode"])("option",{value:"STORE_PRICE"},"門市金額",-1),L=[B,R,A,U],F={class:"modal-footer justify-content-center border-top-0 mt-3"},W=Object(c["createElementVNode"])("button",{type:"button","data-bs-dismiss":"modal",class:"btn btn-outline-primary cancel-btn"}," 取消 ",-1);function G(e,t,a,n,l,o){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",C,[Object(c["createElementVNode"])("div",S,[Object(c["createElementVNode"])("div",I,[w,Object(c["createElementVNode"])("div",T,[x,Object(c["createElementVNode"])("div",P,[M,Object(c["createElementVNode"])("div",$,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.showData.price_type=e),class:"form-select form-select-sm","aria-label":"選擇價格類型"},L,512),[[c["vModelSelect"],l.showData.price_type]])])])]),Object(c["createElementVNode"])("div",F,[W,Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-primary confirm-btn",onClick:t[1]||(t[1]=(...e)=>o.updateInfo&&o.updateInfo(...e))}," 儲存 ")])])])])}var Y=a("31c3"),K=a("1970");const H=e=>new Promise((t,a)=>{K["a"].patch("/v1/basic/company/config",e).then(e=>{t(e)}).catch(e=>{a(e)})});var q=a("55cb"),J={data(){return{showData:{},modal:{}}},computed:{...Object(r["c"])(["companyConfig"])},props:{editData:{type:Object}},watch:{editData:{deep:!0,immediate:!0,handler(e){e&&(this.showData=JSON.parse(JSON.stringify(e)))}}},inject:["searchData"],methods:{async updateInfo(){const{companyId:e}=this.searchData;if(!this.showData.price_type)return void Object(Y["e"])("無法儲存","價格類型未填寫");this.$store.dispatch("setLoading");const t={company_id:e,...this.companyConfig};t.price_type=this.showData.price_type;try{const a=await H(t);console.log(a),204===a.status?(this.modal.hide(),this.$store.dispatch("getCompanyConfig",{company_id:e}),this.$store.dispatch("hideLoading")):(this.$store.dispatch("hideLoading"),Object(Y["e"])("無法儲存",a.data.message))}catch(a){console.log(a),this.$store.dispatch("hideLoading")}}},mounted(){this.modal=Object(q["b"])("companyConfigBasicSettingModal")}},Z=a("6b0d"),Q=a.n(Z);const X=Q()(J,[["render",G]]);var z=X,ee={components:{BasicSettingModal:z},computed:{...Object(r["c"])(["companyConfig"])},inject:["translate"]};const te=Q()(ee,[["render",k]]);var ae=te;const ce={class:"py-1 px-3"},ne=Object(c["createElementVNode"])("h3",{class:"fs-title mb-1"},"會員設定",-1),le={class:"row item-spacing"},oe=Object(c["createElementVNode"])("div",{class:"col-3 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name"},"啟用")],-1),se={class:"col-9"},de={key:0,class:"row item-spacing"},ie=Object(c["createElementVNode"])("div",{class:"col-3 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name"},"api_url")],-1),re={class:"col-9"},me=Object(c["createElementVNode"])("hr",{class:"item-spacing"},null,-1),be=Object(c["createElementVNode"])("h3",{class:"fs-title mb-1"},"發票彙開設定",-1),pe={class:"row item-spacing"},_e=Object(c["createElementVNode"])("div",{class:"col-3 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name"},"啟用")],-1),ue={class:"col-9"},Oe={class:"row item-spacing"},he=Object(c["createElementVNode"])("div",{class:"col-3 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name"},"應稅商品")],-1),je={class:"col-9"},fe={class:"row item-spacing"},Ee=Object(c["createElementVNode"])("div",{class:"col-3 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name"},"免稅商品")],-1),Ne={class:"col-9"};function Ve(e,t,a,n,l,o){const s=Object(c["resolveComponent"])("FunctionModel",!0);return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ce,[ne,Object(c["createElementVNode"])("div",le,[oe,Object(c["createElementVNode"])("div",se,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.companyConfig.vip_config.is_enable?"是":"否"),1)])]),e.companyConfig.vip_config.is_enable?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",de,[ie,Object(c["createElementVNode"])("div",re,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.companyConfig.vip_config.api_url),1)])])):Object(c["createCommentVNode"])("",!0),me,be,Object(c["createElementVNode"])("div",pe,[_e,Object(c["createElementVNode"])("div",ue,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.companyConfig.invoice_summary_config.is_enable?"是":"否"),1)])]),e.companyConfig.invoice_summary_config.is_enable?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createElementVNode"])("div",Oe,[he,Object(c["createElementVNode"])("div",je,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.companyConfig.invoice_summary_config.taxable_product_id),1)])]),Object(c["createElementVNode"])("div",fe,[Ee,Object(c["createElementVNode"])("div",Ne,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.companyConfig.invoice_summary_config.exemption_product_id),1)])])],64)):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(s)])}const ye=e=>(Object(c["pushScopeId"])("data-v-5b5e945f"),e=e(),Object(c["popScopeId"])(),e),ve={class:"modal fade",id:"functionModelModal",tabindex:"-1","aria-labelledby":"functionModelModalLabel","aria-hidden":"true"},ge={class:"modal-dialog modal-dialog-centered"},De={class:"modal-content"},ke=ye(()=>Object(c["createElementVNode"])("div",{class:"modal-header"},[Object(c["createElementVNode"])("h2",{class:"modal-title text-black fs-4 fw-normal",id:"functionModelModalLabel"}," 編輯功能模組設定 "),Object(c["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Ce={class:"modal-body"},Se=ye(()=>Object(c["createElementVNode"])("h3",{class:"text-black fs-5 mb-3"},"會員設定",-1)),Ie={class:"row align-items-center mb-1"},we=ye(()=>Object(c["createElementVNode"])("div",{class:"col-4 text-end"},[Object(c["createElementVNode"])("label",{class:"col-form-label fw-normal"},"啟用")],-1)),Te={class:"col-8"},xe={class:"form-check form-check-inline"},Pe=ye(()=>Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_enabled_member_setting_true"},"是",-1)),Me={class:"form-check form-check-inline"},$e=ye(()=>Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_enabled_member_setting_false"},"否",-1)),Be={key:0,class:"row mb-1"},Re=ye(()=>Object(c["createElementVNode"])("div",{class:"col-4 text-end"},[Object(c["createElementVNode"])("label",{class:"col-form-label fw-normal py-0"},"api_url")],-1)),Ae={class:"col-8"},Ue=ye(()=>Object(c["createElementVNode"])("hr",{class:"my-3"},null,-1)),Le=ye(()=>Object(c["createElementVNode"])("h3",{class:"text-black fs-5 mb-3"},"發票彙開設定",-1)),Fe={class:"row align-items-center mb-1"},We=ye(()=>Object(c["createElementVNode"])("div",{class:"col-4 text-end"},[Object(c["createElementVNode"])("label",{class:"col-form-label fw-normal"},"啟用")],-1)),Ge={class:"col-8"},Ye={class:"form-check form-check-inline"},Ke=ye(()=>Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_enabled_receipt_true"},"是",-1)),He={class:"form-check form-check-inline"},qe=ye(()=>Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_enabled_receipt_false"},"否",-1)),Je={class:"row align-items-center mb-1"},Ze=ye(()=>Object(c["createElementVNode"])("div",{class:"col-4 text-end"},[Object(c["createElementVNode"])("label",{class:"col-form-label fw-normal"},"應稅商品")],-1)),Qe={class:"col-8"},Xe=ye(()=>Object(c["createElementVNode"])("option",{selected:"",disabled:"",value:""},"請選擇應稅商品",-1)),ze=["value"],et={class:"row align-items-center mb-1"},tt=ye(()=>Object(c["createElementVNode"])("div",{class:"col-4 text-end"},[Object(c["createElementVNode"])("label",{class:"col-form-label fw-normal"},"免稅商品")],-1)),at={class:"col-8"},ct=ye(()=>Object(c["createElementVNode"])("option",{selected:"",disabled:"",value:""},"請選擇免稅商品",-1)),nt=["value"],lt={class:"modal-footer justify-content-center border-top-0"};function ot(e,t,a,n,l,o){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ve,[Object(c["createElementVNode"])("div",ge,[Object(c["createElementVNode"])("div",De,[ke,Object(c["createElementVNode"])("div",Ce,[Se,Object(c["createElementVNode"])("div",Ie,[we,Object(c["createElementVNode"])("div",Te,[Object(c["createElementVNode"])("div",xe,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_enabled_member_setting",id:"is_enabled_member_setting_true",value:!0,"onUpdate:modelValue":t[0]||(t[0]=e=>l.memberSettingIsEnabled=e)},null,512),[[c["vModelRadio"],l.memberSettingIsEnabled]]),Pe]),Object(c["createElementVNode"])("div",Me,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_enabled_member_setting",id:"is_enabled_member_setting_false",value:!1,"onUpdate:modelValue":t[1]||(t[1]=e=>l.memberSettingIsEnabled=e)},null,512),[[c["vModelRadio"],l.memberSettingIsEnabled]]),$e])])]),l.memberSettingIsEnabled?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Be,[Re,Object(c["createElementVNode"])("div",Ae,[Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{class:"form-control w-75","onUpdate:modelValue":t[2]||(t[2]=e=>l.apiUrl=e),placeholder:"請輸入 api url"},null,512),[[c["vModelText"],l.apiUrl]])])])):Object(c["createCommentVNode"])("",!0),Ue,Le,Object(c["createElementVNode"])("div",Fe,[We,Object(c["createElementVNode"])("div",Ge,[Object(c["createElementVNode"])("div",Ye,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_enabled_receipt",id:"is_enabled_receipt_true",value:!0,"onUpdate:modelValue":t[3]||(t[3]=e=>l.invoiceSettingIsEnabled=e)},null,512),[[c["vModelRadio"],l.invoiceSettingIsEnabled]]),Ke]),Object(c["createElementVNode"])("div",He,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_enabled_receipt",id:"is_enabled_receipt_false",value:!1,"onUpdate:modelValue":t[4]||(t[4]=e=>l.invoiceSettingIsEnabled=e)},null,512),[[c["vModelRadio"],l.invoiceSettingIsEnabled]]),qe])])]),l.invoiceSettingIsEnabled?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createElementVNode"])("div",Je,[Ze,Object(c["createElementVNode"])("div",Qe,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select form-select-sm w-75","onUpdate:modelValue":t[5]||(t[5]=e=>l.taxableProductId=e),"aria-label":"選擇應稅商品"},[Xe,Object(c["createElementVNode"])("option",{value:l.taxableProductId},Object(c["toDisplayString"])(l.taxableProductId),9,ze)],512),[[c["vModelSelect"],l.taxableProductId]])])]),Object(c["createElementVNode"])("div",et,[tt,Object(c["createElementVNode"])("div",at,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select form-select-sm w-75","onUpdate:modelValue":t[6]||(t[6]=e=>l.exemptionProductId=e),"aria-label":"選擇免稅商品"},[ct,Object(c["createElementVNode"])("option",{value:l.exemptionProductId},Object(c["toDisplayString"])(l.exemptionProductId),9,nt)],512),[[c["vModelSelect"],l.exemptionProductId]])])])],64)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",lt,[Object(c["createElementVNode"])("button",{type:"button","data-bs-dismiss":"modal",class:"btn btn-outline-primary cancel-btn",onClick:t[7]||(t[7]=(...e)=>o.reset&&o.reset(...e))}," 取消 "),Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-primary confirm-btn",onClick:t[8]||(t[8]=(...e)=>o.updateInfo&&o.updateInfo(...e))}," 儲存 ")])])])])}var st={data(){return{memberSettingIsEnabled:!1,invoiceSettingIsEnabled:!1,apiUrl:"",taxableProductId:"",exemptionProductId:"",modal:{}}},computed:{...Object(r["c"])(["companyConfig"])},inject:["searchData"],methods:{reset(){this.memberSettingIsEnabled="",this.invoiceSettingIsEnabled="",this.apiUrl="",this.taxableProductId="",this.exemptionProductId=""},setEditData(){if(console.log(this.companyConfig),Object.keys(this.companyConfig).length>0){const{vip_config:{is_enable:e,api_url:t},invoice_summary_config:{is_enable:a,taxable_product_id:c,exemption_product_id:n}}=this.companyConfig;this.memberSettingIsEnabled=e,this.apiUrl=t,this.invoiceSettingIsEnabled=a,this.taxableProductId=c,this.exemptionProductId=n}else this.reset()},async updateInfo(){if(this.memberSettingIsEnabled&&!this.apiUrl)return void Object(Y["e"])("無法儲存","api_url 未填寫");if(this.invoiceSettingIsEnabled&&!this.taxableProductId)return void Object(Y["e"])("無法儲存","應稅商品未填寫");if(this.invoiceSettingIsEnabled&&!this.exemptionProductId)return void Object(Y["e"])("無法儲存","免稅商品未填寫");this.$store.dispatch("setLoading");const e=JSON.parse(JSON.stringify(this.companyConfig));e.vip_config.is_enable=this.memberSettingIsEnabled,e.vip_config.api_url=this.memberSettingIsEnabled?this.apiUrl:null,e.invoice_summary_config.is_enable=this.invoiceSettingIsEnabled,e.invoice_summary_config.taxable_product_id=this.invoiceSettingIsEnabled?this.taxableProductId:null,e.invoice_summary_config.exemption_product_id=this.invoiceSettingIsEnabled?this.exemptionProductId:null,console.log(e);const{companyId:t}=this.searchData;e.company_id=t;try{const a=await H(e);204===a.status?(this.modal.hide(),this.$store.dispatch("getCompanyConfig",{company_id:t}),this.$store.dispatch("hideLoading")):(this.$store.dispatch("hideLoading"),Object(Y["e"])("無法儲存",a.data.message))}catch(a){console.log(a),this.$store.dispatch("hideLoading")}}},mounted(){this.modal=Object(q["b"])("functionModelModal");const e=document.getElementById("functionModelModal");e.addEventListener("show.bs.modal",()=>this.setEditData())}};a("3608");const dt=Q()(st,[["render",ot],["__scopeId","data-v-5b5e945f"]]);var it=dt,rt={components:{FunctionModel:it},computed:{...Object(r["c"])(["companyConfig"])}};const mt=Q()(rt,[["render",Ve]]);var bt=mt,pt={data(){return{searchType:"BASIC_SETTING"}},components:{BasicSetting:ae,FunctionModel:bt},computed:{...Object(r["c"])(["companyConfig"]),modalId(){return"BASIC_SETTING"===this.searchType?"companyConfigBasicSettingModal":"functionModelModal"}}};const _t=Q()(pt,[["render",f]]);var ut=_t,Ot=a("781a"),ht=a("c457"),jt=a("1dea"),ft={data(){return{title:"公司管理",items:[{text:"基本資料管理",href:""},{text:"公司管理",active:!0}],settingItem:"COMPANY_CONFIG",selectData:{companyId:""}}},components:{Layout:d["a"],PageHeader:i["a"],PaymentConfig:m["a"],CompanyConfig:ut,WebPlatformSetting:Ot["a"],BasicData:jt["a"]},provide(){return{searchData:Object(c["computed"])(()=>this.selectData),translate:ht["a"],is_embeddedWeb:!1}},watch:{$router:{immediate:!0,deep:!0,handler(){this.settingItem=this.$route.meta.page}}},computed:{...Object(r["c"])(["companyList","searchCompany"])},methods:{setCompanyId(e){this.selectData.companyId=e}}};a("c802");const Et=Q()(ft,[["render",s],["__scopeId","data-v-c7dcdc48"]]);t["default"]=Et},3608:function(e,t,a){"use strict";a("0815")},"3cac":function(e,t,a){"use strict";a("14d9");var c=a("7a23");const n=e=>(Object(c["pushScopeId"])("data-v-a2165bd6"),e=e(),Object(c["popScopeId"])(),e),l={class:"text-end"},o=["disabled"],s={class:"accordion-content"},d=Object(c["createStaticVNode"])('<div class="row align-items-center bg-secondary-light py-2 accordion-md" data-v-a2165bd6><div class="col-1" data-v-a2165bd6><p class="text-center" data-v-a2165bd6>刪除</p></div><div class="col-1" data-v-a2165bd6><p data-v-a2165bd6>狀態</p></div><div class="col-3" data-v-a2165bd6><div class="ps-2" data-v-a2165bd6><p class="" data-v-a2165bd6>付款方式名稱</p><p class="text-lighter" data-v-a2165bd6>付款方式編號</p></div></div><div class="col-3" data-v-a2165bd6><p data-v-a2165bd6>顯示名稱</p></div><div class="col-2" data-v-a2165bd6><p data-v-a2165bd6>類別</p></div><div class="col-2" data-v-a2165bd6><p class="text-center" data-v-a2165bd6>詳細資訊</p></div></div>',1),i={class:"row align-items-center border-bottom accordion-md"},r={class:"col-1 text-center"},m=["value","id","disabled","onClick"],b={class:"col-1"},p={class:"form-check form-switch"},_=["id","onClick","checked"],u=["for"],O={class:"col-3"},h={class:"ps-2"},j={class:""},f={class:"text-lighter"},E={class:"col-3"},N={class:"col-2"},V={class:"col-2"},y=["data-bs-target","aria-controls","onClick"],v=["id","aria-labelledby"],g={class:"accordion-body px-0 shop-manage-content"},D={class:"d-between"},k=n(()=>Object(c["createElementVNode"])("h2",{class:"fs-large"},"付款設定",-1)),C={key:0,class:"d-flex"},S=n(()=>Object(c["createElementVNode"])("i",{class:"ri-pencil-line me-1"},null,-1)),I=["onClick"],w=n(()=>Object(c["createElementVNode"])("i",{class:"ri-pencil-line me-1"},null,-1)),T=["onClick"],x=n(()=>Object(c["createElementVNode"])("i",{class:"ri-pencil-line me-1"},null,-1)),P=["onClick"],M=n(()=>Object(c["createElementVNode"])("i",{class:"ri-pencil-line me-1"},null,-1)),$=["onClick"],B=n(()=>Object(c["createElementVNode"])("i",{class:"ri-pencil-line me-1"},null,-1)),R={class:"row align-items-start"},A={class:"col-6"},U={class:"row item-spacing-small"},L=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"付款方式編號")],-1)),F={class:"col-6"},W={class:"fs-small"},G={class:"row item-spacing-small"},Y=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"付款方式名稱")],-1)),K={class:"col-6"},H={class:"fs-small"},q={class:"row item-spacing-small"},J=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"顯示名稱")],-1)),Z={class:"col-6"},Q={class:"fs-small"},X={class:"row item-spacing-small"},z=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"類型")],-1)),ee={class:"col-6"},te={class:"fs-small"},ae={class:"row item-spacing-small"},ce=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"面額")],-1)),ne={class:"col-6"},le={class:"fs-small"},oe={class:"row item-spacing-small"},se=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"數量精度")],-1)),de={class:"col-6"},ie={class:"fs-small"},re={class:"row item-spacing-small"},me=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"顯示序號")],-1)),be={class:"col-6"},pe={class:"fs-small"},_e={class:"row item-spacing-small"},ue=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"是否需輸入憑證")],-1)),Oe={class:"col-6"},he={class:"fs-small"},je={class:"row item-spacing-small"},fe=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"憑證長度限制")],-1)),Ee={class:"col-6"},Ne={class:"fs-small"},Ve={key:0,class:"row item-spacing-small"},ye=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"憑證允許長度")],-1)),ve={class:"col-6"},ge={class:"fs-small"},De={class:"row item-spacing-small"},ke=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"備註")],-1)),Ce={class:"col-6"},Se={class:"fs-small"},Ie={class:"col-6"},we={class:"row item-spacing-small"},Te=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"是否啟用")],-1)),xe={class:"col-6"},Pe={class:"fs-small"},Me={class:"row item-spacing-small"},$e=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"是否允許折扣")],-1)),Be={class:"col-6"},Re={class:"fs-small"},Ae={class:"row item-spacing-small"},Ue=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"是否強制手動輸入金額")],-1)),Le={class:"col-6"},Fe={class:"fs-small"},We={class:"row item-spacing-small"},Ge=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"是否可找零")],-1)),Ye={class:"col-6"},Ke={class:"fs-small"},He={class:"row item-spacing-small"},qe=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"是否已開發票")],-1)),Je={class:"col-6"},Ze={class:"fs-small"},Qe=n(()=>Object(c["createElementVNode"])("hr",{class:"item-spacing-small"},null,-1)),Xe=n(()=>Object(c["createElementVNode"])("h2",{class:"fs-large mb-1"},"信用卡機設定",-1)),ze={class:"row"},et={class:"col-6"},tt={class:"row item-spacing-small"},at=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"信用卡機連線")],-1)),ct={class:"col-6"},nt={class:"fs-small"},lt={class:"row item-spacing-small"},ot=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"信用卡機廠商")],-1)),st={class:"col-6"},dt={class:"fs-small"},it={class:"row item-spacing-small"},rt=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"信用卡類型")],-1)),mt={class:"col-6"},bt={class:"fs-small"},pt={class:"col-6"},_t={class:"row item-spacing-small"},ut={class:"col-6 text-md-end"},Ot={class:"text-order-dark d-end","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"目前僅支援聯合信用卡機"},ht=["id"],jt={class:"col-6"},ft={class:"fs-small"},Et={class:"row item-spacing-small"},Nt=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"付款允許離線交易")],-1)),Vt={class:"col-6"},yt={class:"fs-small"},vt={class:"row item-spacing-small"},gt=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"允許付款刷退")],-1)),Dt={class:"col-6"},kt={class:"fs-small"},Ct={class:"row item-spacing-small"},St=n(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"允許當日單據取消")],-1)),It={class:"col-6"},wt={class:"fs-small"},Tt=n(()=>Object(c["createElementVNode"])("hr",{class:"item-spacing-small"},null,-1)),xt=n(()=>Object(c["createElementVNode"])("h2",{class:"fs-large"},"帳戶設定",-1)),Pt={class:"row item-spacing-small"},Mt=n(()=>Object(c["createElementVNode"])("div",{class:"col-3 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"統一使用公司帳號")],-1)),$t={class:"col-8"},Bt={key:0},Rt={class:"row item-spacing-small"},At=n(()=>Object(c["createElementVNode"])("div",{class:"col-3 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"測試環境")],-1)),Ut={class:"col-8"},Lt={key:0},Ft={class:"row item-spacing-small"},Wt=n(()=>Object(c["createElementVNode"])("div",{class:"col-3 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"Channel ID")],-1)),Gt={class:"col-8"},Yt={key:0,class:"fs-small"},Kt={class:"row item-spacing-small"},Ht=n(()=>Object(c["createElementVNode"])("div",{class:"col-3 text-md-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-small"},"Channel Secret")],-1)),qt={class:"col-8"},Jt={key:0,class:"fs-small"},Zt={key:1,class:"emptyDataMessage"};function Qt(e,t,a,n,Qt,Xt){const zt=Object(c["resolveComponent"])("AddStorePaymentModal"),ea=Object(c["resolveComponent"])("PaymentSettingModal"),ta=Object(c["resolveComponent"])("UsingStoreList"),aa=Object(c["resolveDirective"])("preventReClick");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",l,[e.targetRouteAuthority.can_delete?(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{key:0,type:"button",class:"btn btn-light border px-4 me-2",onClick:t[0]||(t[0]=e=>Xt.showDeleteAlert()),disabled:Qt.deleteIds.length<=0}," 刪除 ",8,o)):Object(c["createCommentVNode"])("",!0),e.targetRouteAuthority.can_add?(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{key:1,type:"button",class:"btn btn-primary px-4",onClick:t[1]||(t[1]=e=>Xt.addPayment())}," 新增 ")):Object(c["createCommentVNode"])("",!0)]),Qt.paymentConfig?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:0,class:"accordion px-3 mt-3",id:"paymentSettingAccordion",style:Object(c["normalizeStyle"])({"max-height":Xt.is_embeddedWeb?"auto":"60vh"})},[Object(c["createElementVNode"])("div",s,[d,(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(Qt.paymentConfig,(a,n)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:a},[Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("input",{class:"form-check-input",type:"checkbox",value:a.id,name:"delCheckbox",id:"checkbox"+a.id,disabled:Xt.disabledStatus(a),onClick:e=>Xt.toggleDelBtn(a.id,e)},null,8,m)]),Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("div",p,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"switchBtn form-check-input",type:"checkbox",id:"product"+a.id,onClick:e=>Xt.updatePaymentStatus(a,e),checked:a.is_enable},null,8,_),[[aa,"1000"]]),Object(c["createElementVNode"])("label",{class:Object(c["normalizeClass"])(["form-check-label switchBtnLabel",{on:a.is_enable,off:!a.is_enable}]),for:"product"+a.id},Object(c["toDisplayString"])(a.is_enable?"啟用":"關閉"),11,u)])]),Object(c["createElementVNode"])("div",O,[Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("p",j,Object(c["toDisplayString"])(a.name),1),Object(c["createElementVNode"])("p",f,Object(c["toDisplayString"])(a.id),1)])]),Object(c["createElementVNode"])("div",E,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(a.display_name),1)]),Object(c["createElementVNode"])("div",N,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(a.payment_type.name),1)]),Object(c["createElementVNode"])("div",V,[Object(c["createElementVNode"])("button",{class:"accordion-button d-center collapsed bg-transparent shadow-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+n,"aria-expanded":"false","aria-controls":"collapse"+n,onClick:e=>Xt.setTooltip(a.payment_type.id)}," 詳細資訊 ",8,y)])]),Object(c["createElementVNode"])("div",{id:"collapse"+n,class:"accordion-collapse collapse","aria-labelledby":"heading"+n,"data-bs-parent":"#paymentSettingAccordion"},[Object(c["createElementVNode"])("div",g,[Object(c["createElementVNode"])("div",D,[k,e.targetRouteAuthority.can_edit?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",C,[Qt.isShopManagement?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Xt.is_embeddedWeb?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{key:0,type:"button",class:"d-center btn btn-sm btn-outline-primary me-2",onClick:t[2]||(t[2]=e=>this.$router.push("/basicData/companyManagement/paymentConfig"))},[S,Object(c["createTextVNode"])("編輯付款方式 ")])),"2"!=a.payment_type.id||Xt.is_embeddedWeb?"OP"!=a.payment_type.id||Xt.is_embeddedWeb?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{key:2,type:"button",class:"d-center btn btn-sm btn-outline-primary",onClick:e=>Xt.showEditModal(a,"MOBILE_PAYMENT")},[x,Object(c["createTextVNode"])("編輯帳戶設定 ")],8,T)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{key:1,type:"button",class:"d-center btn btn-sm btn-outline-primary",onClick:e=>Xt.showEditModal(a,"CREDIT_CARD")},[w,Object(c["createTextVNode"])("編輯信用卡機設定 ")],8,I))],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createElementVNode"])("button",{type:"button",class:"d-center btn btn-sm btn-outline-primary me-2",onClick:e=>Xt.showEditModal(a)},[M,Object(c["createTextVNode"])("編輯 ")],8,P),"2"==a.payment_type.id&&e.targetRouteAuthority.can_edit?(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{key:0,type:"button",class:"d-center btn btn-sm btn-outline-primary",onClick:e=>Xt.showEditModal(a,"CREDIT_CARD")},[B,Object(c["createTextVNode"])("編輯信用卡機設定 ")],8,$)):Object(c["createCommentVNode"])("",!0)],64))])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",R,[Object(c["createElementVNode"])("div",A,[Object(c["createElementVNode"])("div",U,[L,Object(c["createElementVNode"])("div",F,[Object(c["createElementVNode"])("p",W,Object(c["toDisplayString"])(a.id),1)])]),Object(c["createElementVNode"])("div",G,[Y,Object(c["createElementVNode"])("div",K,[Object(c["createElementVNode"])("p",H,Object(c["toDisplayString"])(a.name),1)])]),Object(c["createElementVNode"])("div",q,[J,Object(c["createElementVNode"])("div",Z,[Object(c["createElementVNode"])("p",Q,Object(c["toDisplayString"])(a.display_name),1)])]),Object(c["createElementVNode"])("div",X,[z,Object(c["createElementVNode"])("div",ee,[Object(c["createElementVNode"])("p",te,Object(c["toDisplayString"])(a.payment_type.name),1)])]),Object(c["createElementVNode"])("div",ae,[ce,Object(c["createElementVNode"])("div",ne,[Object(c["createElementVNode"])("p",le,Object(c["toDisplayString"])(a.value),1)])]),Object(c["createElementVNode"])("div",oe,[se,Object(c["createElementVNode"])("div",de,[Object(c["createElementVNode"])("p",ie,Object(c["toDisplayString"])(a.amount_precision),1)])]),Object(c["createElementVNode"])("div",re,[me,Object(c["createElementVNode"])("div",be,[Object(c["createElementVNode"])("p",pe,Object(c["toDisplayString"])(a.position_id),1)])]),Object(c["createElementVNode"])("div",_e,[ue,Object(c["createElementVNode"])("div",Oe,[Object(c["createElementVNode"])("p",he,Object(c["toDisplayString"])(a.is_input_voucher?"是":"否"),1)])]),Object(c["createElementVNode"])("div",je,[fe,Object(c["createElementVNode"])("div",Ee,[Object(c["createElementVNode"])("p",Ne,Object(c["toDisplayString"])(a.voucher_length_limit),1)])]),a.is_input_voucher?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Ve,[ye,Object(c["createElementVNode"])("div",ve,[Object(c["createElementVNode"])("p",ge,Object(c["toDisplayString"])(a.voucher_length_limit),1)])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",De,[ke,Object(c["createElementVNode"])("div",Ce,[Object(c["createElementVNode"])("p",Se,Object(c["toDisplayString"])(a.memo),1)])])]),Object(c["createElementVNode"])("div",Ie,[Object(c["createElementVNode"])("div",we,[Te,Object(c["createElementVNode"])("div",xe,[Object(c["createElementVNode"])("p",Pe,Object(c["toDisplayString"])(a.is_enable?"是":"否"),1)])]),Object(c["createElementVNode"])("div",Me,[$e,Object(c["createElementVNode"])("div",Be,[Object(c["createElementVNode"])("p",Re,Object(c["toDisplayString"])(a.is_discount_enable?"是":"否"),1)])]),Object(c["createElementVNode"])("div",Ae,[Ue,Object(c["createElementVNode"])("div",Le,[Object(c["createElementVNode"])("p",Fe,Object(c["toDisplayString"])(a.is_need_keyin?"是":"否"),1)])]),Object(c["createElementVNode"])("div",We,[Ge,Object(c["createElementVNode"])("div",Ye,[Object(c["createElementVNode"])("p",Ke,Object(c["toDisplayString"])(a.is_change?"是":"否"),1)])]),Object(c["createElementVNode"])("div",He,[qe,Object(c["createElementVNode"])("div",Je,[Object(c["createElementVNode"])("p",Ze,Object(c["toDisplayString"])(a.is_invoiced?"是":"否"),1)])])])]),"2"==a.payment_type.id?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Qe,Xe,Object(c["createElementVNode"])("div",ze,[Object(c["createElementVNode"])("div",et,[Object(c["createElementVNode"])("div",tt,[at,Object(c["createElementVNode"])("div",ct,[Object(c["createElementVNode"])("p",nt,Object(c["toDisplayString"])(a.setting_content.is_credit_card_connect?"是":"否"),1)])]),Object(c["createElementVNode"])("div",lt,[ot,Object(c["createElementVNode"])("div",st,[Object(c["createElementVNode"])("p",dt,Object(c["toDisplayString"])(a.setting_content.bank),1)])]),Object(c["createElementVNode"])("div",it,[rt,Object(c["createElementVNode"])("div",mt,[Object(c["createElementVNode"])("p",bt,Object(c["toDisplayString"])(Xt.setBankName(a.setting_content.credit_card_type)),1)])])]),Object(c["createElementVNode"])("div",pt,[Object(c["createElementVNode"])("div",_t,[Object(c["createElementVNode"])("div",ut,[Object(c["createElementVNode"])("p",Ot,[Object(c["createTextVNode"])(" 啟用刷退檢核卡號 "),Object(c["createElementVNode"])("i",{class:"ri-question-fill text-black questionIcon fw-normal ms-1","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-title":"目前僅支援聯合信用卡機","data-bs-custom-class":"custom-tooltip",name:"tooltip",id:"tooltip"+a.id},null,8,ht)])]),Object(c["createElementVNode"])("div",jt,[Object(c["createElementVNode"])("p",ft,Object(c["toDisplayString"])(a.setting_content.is_enable_refund_check_card_no?"是":"否"),1)])]),Object(c["createElementVNode"])("div",Et,[Nt,Object(c["createElementVNode"])("div",Vt,[Object(c["createElementVNode"])("p",yt,Object(c["toDisplayString"])(a.setting_content.is_enable_offline_transaction?"是":"否"),1)])]),Object(c["createElementVNode"])("div",vt,[gt,Object(c["createElementVNode"])("div",Dt,[Object(c["createElementVNode"])("p",kt,Object(c["toDisplayString"])(a.setting_content.is_enable_refund?"是":"否"),1)])]),Object(c["createElementVNode"])("div",Ct,[St,Object(c["createElementVNode"])("div",It,[Object(c["createElementVNode"])("p",wt,Object(c["toDisplayString"])(a.setting_content.is_enable_same_day_cancellation?"是":"否"),1)])])])])],64)):Object(c["createCommentVNode"])("",!0),"OP"==a.payment_type.id?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Tt,xt,Qt.isShopManagement?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createElementVNode"])("div",Pt,[Mt,Object(c["createElementVNode"])("div",$t,[a.setting_content?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",Bt,Object(c["toDisplayString"])(a.setting_content.is_company_data?"是":"否"),1)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",Rt,[At,Object(c["createElementVNode"])("div",Ut,[a.setting_content?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",Lt,Object(c["toDisplayString"])(a.setting_content.is_test?"是":"否"),1)):Object(c["createCommentVNode"])("",!0)])])],64)):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",Ft,[Wt,Object(c["createElementVNode"])("div",Gt,[a.setting_content?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",Yt,Object(c["toDisplayString"])(a.setting_content.channel_id),1)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",Kt,[Ht,Object(c["createElementVNode"])("div",qt,[a.setting_content?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",Jt,Object(c["toDisplayString"])(a.setting_content.channel_secret),1)):Object(c["createCommentVNode"])("",!0)])])],64)):Object(c["createCommentVNode"])("",!0)])],8,v)],64))),128))])],4)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("h2",Zt,"目前還沒有建立資料哟～")),Object(c["createVNode"])(zt,{onEmitAddPayments:Xt.addStorePayments},null,8,["onEmitAddPayments"]),Object(c["createVNode"])(ea,{companyId:Xt.searchData.companyId},null,8,["companyId"]),Object(c["createVNode"])(ta,{allEnableStore:Qt.allEnableStore},null,8,["allEnableStore"])],64)}var Xt=a("55cb");const zt=e=>(Object(c["pushScopeId"])("data-v-5b4502d4"),e=e(),Object(c["popScopeId"])(),e),ea={class:"modal fade",id:"paymentSettingModal",tabindex:"-1","data-bs-backdrop":"static","data-bs-focus":"false","aria-labelledby":"paymentSettingModalLabel","aria-hidden":"true"},ta={class:"modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable","data-bs-config":"{backdrop:true}"},aa={class:"modal-content"},ca={class:"modal-header mb-2"},na={class:"fs-title fs-normal",id:"exampleModalLabel"},la={class:"modal-body p-1"},oa={class:"container-fluid"},sa=zt(()=>Object(c["createElementVNode"])("h2",{class:"fs-title mb-1"},"付款設定",-1)),da={class:"row"},ia={class:"col-md-6"},ra={class:"row item-spacing-medium"},ma=zt(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"付款方式編號")],-1)),ba={class:"col-6"},pa=["disabled"],_a={class:"row item-spacing-medium"},ua=zt(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"付款方式名稱")],-1)),Oa={class:"col-6"},ha=["disabled"],ja={class:"row item-spacing-medium"},fa=zt(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"顯示名稱")],-1)),Ea={class:"col-6"},Na={class:"row item-spacing-medium"},Va=zt(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"類型")],-1)),ya={class:"col-6"},va=["disabled"],ga=zt(()=>Object(c["createElementVNode"])("option",{selected:"",disabled:""},"請選擇類型",-1)),Da=["value"],ka={class:"row item-spacing-medium"},Ca=zt(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"面額")],-1)),Sa={class:"col-6"},Ia={class:"row item-spacing-medium"},wa=zt(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"數量精度")],-1)),Ta={class:"col-6"},xa={class:"row item-spacing-medium"},Pa=zt(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"顯示序號")],-1)),Ma={class:"col-6"},$a={class:"row item-spacing-medium"},Ba={class:"col-6 text-end"},Ra=["for"],Aa={class:"col-6"},Ua={class:"form-check form-check-inline"},La=["name","id","checked","disabled"],Fa=["for"],Wa={class:"form-check form-check-inline"},Ga=["name","id","checked","disabled"],Ya=["for"],Ka={class:"row item-spacing-medium"},Ha=zt(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"憑證允許長度")],-1)),qa={class:"col-6"},Ja=["disabled"],Za={class:"col-md-6 col-xl-5"},Qa={class:"row item-spacing-medium"},Xa={class:"col-6 text-end"},za=["for"],ec={class:"col-6"},tc={class:"form-check form-check-inline"},ac=["checked","name","id"],cc=["for"],nc={class:"form-check form-check-inline"},lc=["checked","name","id"],oc=["for"],sc={class:"row item-spacing-medium"},dc={class:"col-6 text-end"},ic=["for"],rc={class:"col-6"},mc={class:"form-check form-check-inline"},bc=["name","id","checked"],pc=["for"],_c={class:"form-check form-check-inline"},uc=["name","id","checked"],Oc=["for"],hc={class:"row item-spacing-medium"},jc={class:"col-6 text-end"},fc=["for"],Ec={class:"col-6"},Nc={class:"form-check form-check-inline"},Vc=["name","id","checked"],yc=["for"],vc={class:"form-check form-check-inline"},gc=["name","id","checked"],Dc=["for"],kc={class:"row item-spacing-medium"},Cc={class:"col-6 text-end"},Sc=["for"],Ic={class:"col-6"},wc={class:"form-check form-check-inline"},Tc=["name","id","disabled","checked"],xc=["for"],Pc={class:"form-check form-check-inline"},Mc=["name","id","disabled","checked"],$c=["for"],Bc={class:"row item-spacing-medium"},Rc={class:"col-6 text-end"},Ac=["for"],Uc={class:"col-6"},Lc={class:"form-check form-check-inline"},Fc=["name","id","disabled","checked"],Wc=["for"],Gc={class:"form-check form-check-inline"},Yc=["name","id","disabled","checked"],Kc=["for"],Hc={class:"col-md-12"},qc={class:"row item-spacing-medium mt-0"},Jc=zt(()=>Object(c["createElementVNode"])("div",{class:"col-3 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"備註")],-1)),Zc={class:"col-8"},Qc={key:0},Xc=zt(()=>Object(c["createElementVNode"])("h2",{class:"fs-title mb-1"},"信用卡機設定",-1)),zc={class:"row"},en={class:"col-6"},tn={key:0,class:"row item-spacing-medium"},an={class:"col-6 text-end"},cn=["for"],nn={class:"col-6"},ln={class:"form-check form-check-inline"},on=["name","id","checked"],sn=["for"],dn={class:"form-check form-check-inline"},rn=["name","id","checked"],mn=["for"],bn={class:"row item-spacing-medium"},pn=zt(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"信用卡廠商")],-1)),_n={class:"col-6"},un=Object(c["createStaticVNode"])("<option disabled data-v-5b4502d4>請選擇信用卡廠商</option><option data-v-5b4502d4>華南</option><option data-v-5b4502d4>聯合(嘉利)</option><option data-v-5b4502d4>台新</option><option data-v-5b4502d4>一銀(特規)</option><option data-v-5b4502d4>國泰</option><option data-v-5b4502d4>聯邦</option><option data-v-5b4502d4>彰銀</option><option data-v-5b4502d4>中信(瑞仕普)</option><option data-v-5b4502d4>中信(精誠)</option><option data-v-5b4502d4>新光(聯天)</option><option data-v-5b4502d4>合庫(精誠)</option><option data-v-5b4502d4>誠品(中信)</option><option data-v-5b4502d4>國泰(百富)</option><option data-v-5b4502d4>永豐</option><option data-v-5b4502d4>台新(經貿)</option><option data-v-5b4502d4>土銀</option><option data-v-5b4502d4>玉山</option><option data-v-5b4502d4>聯邦(聯天)</option><option data-v-5b4502d4>一銀</option><option data-v-5b4502d4>聯合(瑞仕普)</option>",21),On=[un],hn={class:"row item-spacing-medium"},jn=zt(()=>Object(c["createElementVNode"])("div",{class:"col-6 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"信用卡類型")],-1)),fn={class:"col-6"},En=Object(c["createStaticVNode"])('<option selected disabled data-v-5b4502d4>請選擇信用卡類型</option><option value="CREDIT_CARD" data-v-5b4502d4>信用卡</option><option value="UNION_PAY_CARD" data-v-5b4502d4>銀聯卡</option><option value="SMART_PAY" data-v-5b4502d4>Smart pay</option><option value="EC_TICKET" data-v-5b4502d4>電子票證</option>',5),Nn=[En],Vn={class:"col-6"},yn={class:"row item-spacing-medium"},vn={class:"col-6 ps-0"},gn={class:"d-flex align-items-center justify-content-end"},Dn=["for"],kn=zt(()=>Object(c["createElementVNode"])("i",{class:"ri-question-fill questionIcon fw-normal","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-title":"目前僅支援聯合信用卡機","data-bs-custom-class":"custom-tooltip",name:"tooltip",id:"is_enable_refund"},null,-1)),Cn={class:"col-6"},Sn={class:"form-check form-check-inline"},In=["name","id"],wn=["for"],Tn={class:"form-check form-check-inline"},xn=["name","id","checked"],Pn=["for"],Mn={class:"row item-spacing-medium"},$n={class:"col-6 text-end"},Bn=["for"],Rn={class:"col-6"},An={class:"form-check form-check-inline"},Un=["name","id","checked"],Ln=["for"],Fn={class:"form-check form-check-inline"},Wn=["name","id","checked"],Gn=["for"],Yn={class:"row item-spacing-medium"},Kn={class:"col-6 text-end"},Hn=["for"],qn={class:"col-6"},Jn={class:"form-check form-check-inline"},Zn=["name","id","checked"],Qn=["for"],Xn={class:"form-check form-check-inline"},zn=["name","id","checked"],el=["for"],tl={class:"row item-spacing-medium"},al={class:"col-6 text-end"},cl=["for"],nl={class:"col-6"},ll={class:"form-check form-check-inline"},ol=["name","id","checked"],sl=["for"],dl={class:"form-check form-check-inline"},il=["name","id","checked"],rl=["for"],ml=zt(()=>Object(c["createElementVNode"])("h2",{class:"fs-title mb-1"},"帳戶設定",-1)),bl={class:"row item-spacing-medium"},pl=zt(()=>Object(c["createElementVNode"])("div",{class:"col-3 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"統一使用公司帳戶")],-1)),_l={class:"col-8"},ul={class:"form-check form-check-inline"},Ol=["name","id","checked"],hl=["for"],jl={class:"form-check form-check-inline"},fl=["name","id","checked"],El=["for"],Nl={class:"row item-spacing-medium"},Vl=zt(()=>Object(c["createElementVNode"])("div",{class:"col-3 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"測試環境")],-1)),yl={class:"col-8"},vl={class:"form-check form-check-inline"},gl=["name","id","checked"],Dl=["for"],kl={class:"form-check form-check-inline"},Cl=["name","id","checked"],Sl=["for"],Il={class:"row item-spacing-medium"},wl=zt(()=>Object(c["createElementVNode"])("div",{class:"col-3 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"Channel ID")],-1)),Tl={class:"col-8"},xl=["disabled"],Pl={class:"row item-spacing-medium"},Ml=zt(()=>Object(c["createElementVNode"])("div",{class:"col-3 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"Channel Secret")],-1)),$l={class:"col-8"},Bl=["disabled"],Rl=zt(()=>Object(c["createElementVNode"])("hr",null,null,-1)),Al=zt(()=>Object(c["createElementVNode"])("h2",{class:"fs-title mb-1"},"帳戶設定",-1)),Ul={class:"row item-spacing-medium"},Ll=zt(()=>Object(c["createElementVNode"])("div",{class:"col-3 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"Channel ID")],-1)),Fl={class:"col-8"},Wl={class:"row item-spacing-medium"},Gl=zt(()=>Object(c["createElementVNode"])("div",{class:"col-3 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"Channel Secret")],-1)),Yl={class:"col-8"},Kl={class:"modal-footer justify-content-center border-top-0"};function Hl(e,t,a,n,l,o){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ea,[Object(c["createElementVNode"])("div",ta,[Object(c["createElementVNode"])("div",aa,[Object(c["createElementVNode"])("div",ca,[Object(c["createElementVNode"])("h5",na,Object(c["toDisplayString"])("EDIT"===l.openModalType?`編輯 ${l.updateData.id} ${l.updateData.name}`:"新增付款方式"),1)]),Object(c["createElementVNode"])("div",la,[Object(c["createElementVNode"])("div",oa,[l.settingType?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[sa,Object(c["createElementVNode"])("div",da,[Object(c["createElementVNode"])("div",ia,[Object(c["createElementVNode"])("div",ra,[ma,Object(c["createElementVNode"])("div",ba,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[0]||(t[0]=e=>l.updateData.id=e),placeholder:"請輸入付款方式編號",disabled:"EDIT"==l.openModalType},null,8,pa),[[c["vModelText"],l.updateData.id]])])]),Object(c["createElementVNode"])("div",_a,[ua,Object(c["createElementVNode"])("div",Oa,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[1]||(t[1]=e=>l.updateData.name=e),placeholder:"請輸入付款方式名稱",disabled:"EDIT"==l.openModalType&&("Z"==l.selectedPaymentType||"OP"==l.selectedPaymentType||"3"==l.selectedPaymentType||l.updateData.is_keep),onChange:t[2]||(t[2]=e=>""==this.updateData.display_name?this.updateData.display_name=this.updateData.name:this.updateData.display_name)},null,40,ha),[[c["vModelText"],l.updateData.name]])])]),Object(c["createElementVNode"])("div",ja,[fa,Object(c["createElementVNode"])("div",Ea,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[3]||(t[3]=e=>l.updateData.display_name=e),placeholder:"請輸入顯示名稱"},null,512),[[c["vModelText"],l.updateData.display_name]])])]),Object(c["createElementVNode"])("div",Na,[Va,Object(c["createElementVNode"])("div",ya,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select form-select-sm","aria-label":"請選擇類型","onUpdate:modelValue":t[4]||(t[4]=e=>l.selectedPaymentType=e),onChange:t[5]||(t[5]=e=>o.setPaymentType(e)),disabled:"EDIT"==l.openModalType&&("Z"==l.selectedPaymentType||"OP"==l.selectedPaymentType||"3"==l.selectedPaymentType)},[ga,(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.companyPaymentTypes,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:e.id,value:e.id},Object(c["toDisplayString"])(e.name),9,Da))),128))],40,va),[[c["vModelSelect"],l.selectedPaymentType]])])]),Object(c["createElementVNode"])("div",ka,[Ca,Object(c["createElementVNode"])("div",Sa,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":t[6]||(t[6]=e=>l.updateData.value=e),placeholder:"請輸入面額"},null,512),[[c["vModelText"],l.updateData.value]])])]),Object(c["createElementVNode"])("div",Ia,[wa,Object(c["createElementVNode"])("div",Ta,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":t[7]||(t[7]=e=>l.updateData.amount_precision=e),placeholder:"請輸入數量精度"},null,512),[[c["vModelText"],l.updateData.amount_precision]])])]),Object(c["createElementVNode"])("div",xa,[Pa,Object(c["createElementVNode"])("div",Ma,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":t[8]||(t[8]=e=>l.updateData.position_id=e),placeholder:"請輸入顯示序號"},null,512),[[c["vModelText"],l.updateData.position_id]])])]),Object(c["createElementVNode"])("div",$a,[Object(c["createElementVNode"])("div",Ba,[Object(c["createElementVNode"])("label",{class:"field-name fs-base",for:`is_input_voucher${l.updateData.id}${l.updateData.name}`}," 是否需輸入憑證 ",8,Ra)]),Object(c["createElementVNode"])("div",Aa,[Object(c["createElementVNode"])("div",Ua,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:`is_input_voucher${l.updateData.id}${l.updateData.name}`,id:`is_input_voucher_true${l.updateData.id}${l.updateData.name}`,"onUpdate:modelValue":t[9]||(t[9]=e=>l.updateData.is_input_voucher=e),value:!0,checked:l.updateData.is_input_voucher,disabled:"1"==l.selectedPaymentType||1==l.is_credit_card_connect||"EDIT"==l.openModalType&&("Z"==l.selectedPaymentType||"OP"==l.selectedPaymentType)},null,8,La),[[c["vModelRadio"],l.updateData.is_input_voucher]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_input_voucher_true${l.updateData.id}${l.updateData.name}`}," 是 ",8,Fa)]),Object(c["createElementVNode"])("div",Wa,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:`is_input_voucher${l.updateData.id}${l.updateData.name}`,id:`is_input_voucher_false${l.updateData.id}${l.updateData.name}`,"onUpdate:modelValue":t[10]||(t[10]=e=>l.updateData.is_input_voucher=e),value:!1,checked:!l.updateData.is_input_voucher,disabled:"1"==l.selectedPaymentType||1==l.is_credit_card_connect||"EDIT"==l.openModalType&&("Z"==l.selectedPaymentType||"OP"==l.selectedPaymentType)},null,8,Ga),[[c["vModelRadio"],l.updateData.is_input_voucher]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_input_voucher_false${l.updateData.id}${l.updateData.name}`}," 否 ",8,Ya)])])]),Object(c["createElementVNode"])("div",Ka,[Ha,Object(c["createElementVNode"])("div",qa,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":t[11]||(t[11]=e=>l.updateData.voucher_length_limit=e),placeholder:"請輸入憑證允許長度",disabled:"1"==l.selectedPaymentType||1==l.is_credit_card_connect||"EDIT"==l.openModalType&&("Z"==l.selectedPaymentType||"OP"==l.selectedPaymentType)},null,8,Ja),[[c["vModelText"],l.updateData.voucher_length_limit]])])])]),Object(c["createElementVNode"])("div",Za,["現金"!==l.updateData.name?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createElementVNode"])("div",Qa,[Object(c["createElementVNode"])("div",Xa,[Object(c["createElementVNode"])("label",{class:"field-name fs-base",for:`is_enable${l.updateData.id}${l.updateData.name}`}," 是否啟用 ",8,za)]),Object(c["createElementVNode"])("div",ec,[Object(c["createElementVNode"])("div",tc,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[12]||(t[12]=e=>l.updateData.is_enable=e),value:!0,checked:l.updateData.is_enable,name:`is_enable${l.updateData.id}${l.updateData.name}`,id:`is_enable_true${l.updateData.id}${l.updateData.name}`},null,8,ac),[[c["vModelRadio"],l.updateData.is_enable]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_enable_true${l.updateData.id}${l.updateData.name}`}," 是 ",8,cc)]),Object(c["createElementVNode"])("div",nc,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[13]||(t[13]=e=>l.updateData.is_enable=e),checked:!l.updateData.is_enable,value:!1,name:`is_enable${l.updateData.id}${l.updateData.name}`,id:`is_enable_false${l.updateData.id}${l.updateData.name}`},null,8,lc),[[c["vModelRadio"],l.updateData.is_enable]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_enable_false${l.updateData.id}${l.updateData.name}`}," 否 ",8,oc)])])]),Object(c["createElementVNode"])("div",sc,[Object(c["createElementVNode"])("div",dc,[Object(c["createElementVNode"])("label",{for:`is_discount_enable${l.updateData.id}${l.updateData.name}`,class:"field-name fs-base"},"是否允許折扣",8,ic)]),Object(c["createElementVNode"])("div",rc,[Object(c["createElementVNode"])("div",mc,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input","onUpdate:modelValue":t[14]||(t[14]=e=>l.updateData.is_discount_enable=e),type:"radio",name:`is_discount_enable${l.updateData.id}${l.updateData.name}`,id:`is_discount_enable_true${l.updateData.id}${l.updateData.name}`,checked:l.updateData.is_discount_enable,value:!0},null,8,bc),[[c["vModelRadio"],l.updateData.is_discount_enable]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_discount_enable_true${l.updateData.id}${l.updateData.name}`},"是",8,pc)]),Object(c["createElementVNode"])("div",_c,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input","onUpdate:modelValue":t[15]||(t[15]=e=>l.updateData.is_discount_enable=e),type:"radio",name:`is_discount_enable${l.updateData.id}${l.updateData.name}`,id:`is_discount_enable_false${l.updateData.id}${l.updateData.name}`,checked:!l.updateData.is_discount_enable,value:!1},null,8,uc),[[c["vModelRadio"],l.updateData.is_discount_enable]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_discount_enable_false${l.updateData.id}${l.updateData.name}`},"否",8,Oc)])])]),Object(c["createElementVNode"])("div",hc,[Object(c["createElementVNode"])("div",jc,[Object(c["createElementVNode"])("label",{for:`is_need_input${l.updateData.id}${l.updateData.name}`,class:"field-name fs-base"},"是否強制手動輸入金額",8,fc)]),Object(c["createElementVNode"])("div",Ec,[Object(c["createElementVNode"])("div",Nc,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input","onUpdate:modelValue":t[16]||(t[16]=e=>l.updateData.is_need_keyin=e),type:"radio",name:`is_need_input${l.updateData.id}${l.updateData.name}`,id:`is_need_input_true${l.updateData.id}${l.updateData.name}`,value:!0,checked:l.updateData.is_need_keyin},null,8,Vc),[[c["vModelRadio"],l.updateData.is_need_keyin]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_need_input_true${l.updateData.id}${l.updateData.name}`},"是",8,yc)]),Object(c["createElementVNode"])("div",vc,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input","onUpdate:modelValue":t[17]||(t[17]=e=>l.updateData.is_need_keyin=e),type:"radio",name:`is_need_input${l.updateData.id}${l.updateData.name}`,id:`is_need_input_false${l.updateData.id}${l.updateData.name}`,value:!1,checked:!l.updateData.is_need_keyin},null,8,gc),[[c["vModelRadio"],l.updateData.is_need_keyin]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_need_input_false${l.updateData.id}${l.updateData.name}`},"否",8,Dc)])])]),Object(c["createElementVNode"])("div",kc,[Object(c["createElementVNode"])("div",Cc,[Object(c["createElementVNode"])("label",{for:`is_change${l.updateData.id}${l.updateData.name}`,class:"field-name fs-base"},"是否可找零",8,Sc)]),Object(c["createElementVNode"])("div",Ic,[Object(c["createElementVNode"])("div",wc,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input","onUpdate:modelValue":t[18]||(t[18]=e=>l.updateData.is_change=e),type:"radio",name:`is_change${l.updateData.id}${l.updateData.name}`,id:`is_change_true${l.updateData.id}${l.updateData.name}`,value:!0,disabled:"EDIT"==l.openModalType&&("Z"==l.selectedPaymentType||"2"==l.selectedPaymentType||"OP"==l.selectedPaymentType),checked:l.updateData.is_change},null,8,Tc),[[c["vModelRadio"],l.updateData.is_change]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_change_true${l.updateData.id}${l.updateData.name}`},"是",8,xc)]),Object(c["createElementVNode"])("div",Pc,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input","onUpdate:modelValue":t[19]||(t[19]=e=>l.updateData.is_change=e),type:"radio",name:`is_change${l.updateData.id}${l.updateData.name}`,id:`is_change_false${l.updateData.id}${l.updateData.name}`,value:!1,disabled:"EDIT"==l.openModalType&&("Z"==l.selectedPaymentType||"2"==l.selectedPaymentType),checked:!l.updateData.is_change},null,8,Mc),[[c["vModelRadio"],l.updateData.is_change]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_change_false${l.updateData.id}${l.updateData.name}`},"否",8,$c)])])]),Object(c["createElementVNode"])("div",Bc,[Object(c["createElementVNode"])("div",Rc,[Object(c["createElementVNode"])("label",{for:`is_invoiced${l.updateData.id}${l.updateData.name}`,class:"field-name fs-base"},"是否已開發票",8,Ac)]),Object(c["createElementVNode"])("div",Uc,[Object(c["createElementVNode"])("div",Lc,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input","onUpdate:modelValue":t[20]||(t[20]=e=>l.updateData.is_invoiced=e),type:"radio",name:`is_invoiced${l.updateData.id}${l.updateData.name}`,id:`is_invoiced_true${l.updateData.id}${l.updateData.name}`,value:!0,disabled:"EDIT"==l.openModalType&&"Z"==l.selectedPaymentType,checked:l.updateData.is_invoiced},null,8,Fc),[[c["vModelRadio"],l.updateData.is_invoiced]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_invoiced_true${l.updateData.id}${l.updateData.name}`},"是",8,Wc)]),Object(c["createElementVNode"])("div",Gc,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input","onUpdate:modelValue":t[21]||(t[21]=e=>l.updateData.is_invoiced=e),type:"radio",name:`is_invoiced${l.updateData.id}${l.updateData.name}`,id:`is_invoiced_false${l.updateData.id}${l.updateData.name}`,value:!1,disabled:"EDIT"==l.openModalType&&"Z"==l.selectedPaymentType,checked:!l.updateData.is_invoiced},null,8,Yc),[[c["vModelRadio"],l.updateData.is_invoiced]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_invoiced_false${l.updateData.id}${l.updateData.name}`},"否",8,Kc)])])])],64)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",Hc,[Object(c["createElementVNode"])("div",qc,[Jc,Object(c["createElementVNode"])("div",Zc,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[22]||(t[22]=e=>l.updateData.memo=e),placeholder:"請輸入備註"},null,512),[[c["vModelText"],l.updateData.memo]])])])])])],64)),"2"==l.selectedPaymentType||"CREDIT_CARD"==l.settingType||"CREATE"===l.openModalType&&"2"===l.selectedPaymentType?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[l.settingType?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("hr",Qc)),Xc,Object(c["createElementVNode"])("div",zc,[Object(c["createElementVNode"])("div",en,[l.isShopManagement?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",tn,[Object(c["createElementVNode"])("div",an,[Object(c["createElementVNode"])("label",{class:"field-name fs-base",for:`is_credit_card_connect${l.updateData.id}${l.updateData.name}`},"信用卡機連線 ",8,cn)]),Object(c["createElementVNode"])("div",nn,[Object(c["createElementVNode"])("div",ln,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:`is_credit_card_connect${l.updateData.id}${l.updateData.name}`,id:`is_credit_card_connect_true${l.updateData.id}${l.updateData.name}`,value:!0,"onUpdate:modelValue":t[23]||(t[23]=e=>l.is_credit_card_connect=e),checked:l.is_credit_card_connect},null,8,on),[[c["vModelRadio"],l.is_credit_card_connect]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_credit_card_connect_true${l.updateData.id}${l.updateData.name}`},"是",8,sn)]),Object(c["createElementVNode"])("div",dn,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:`is_credit_card_connect${l.updateData.id}${l.updateData.name}`,id:`is_credit_card_connect_false${l.updateData.id}${l.updateData.name}`,value:!1,"onUpdate:modelValue":t[24]||(t[24]=e=>l.is_credit_card_connect=e),checked:!l.is_credit_card_connect},null,8,rn),[[c["vModelRadio"],l.is_credit_card_connect]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_credit_card_connect_false${l.updateData.id}${l.updateData.name}`},"否",8,mn)])])])),Object(c["createElementVNode"])("div",bn,[pn,Object(c["createElementVNode"])("div",_n,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[25]||(t[25]=e=>l.bank=e),"aria-label":"請選擇信用卡廠商"},On,512),[[c["vModelSelect"],l.bank]])])]),Object(c["createElementVNode"])("div",hn,[jn,Object(c["createElementVNode"])("div",fn,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[26]||(t[26]=e=>l.credit_card_type=e),"aria-label":"請選擇信用卡類型"},Nn,512),[[c["vModelSelect"],l.credit_card_type]])])])]),Object(c["createElementVNode"])("div",Vn,[Object(c["createElementVNode"])("div",yn,[Object(c["createElementVNode"])("div",vn,[Object(c["createElementVNode"])("div",gn,[Object(c["createElementVNode"])("label",{class:"field-name fs-base me-1",for:`is_enable_refund_check_card_no${l.updateData.id}${l.updateData.name}`},"啟用刷退檢核卡號 ",8,Dn),kn])]),Object(c["createElementVNode"])("div",Cn,[Object(c["createElementVNode"])("div",Sn,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:`is_enable_refund_check_card_no${l.updateData.id}${l.updateData.name}`,id:`is_enable_refund_check_card_no_true${l.updateData.id}${l.updateData.name}`,value:!0,"onUpdate:modelValue":t[27]||(t[27]=e=>l.is_enable_refund=e)},null,8,In),[[c["vModelRadio"],l.is_enable_refund]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_enable_refund_check_card_no_true${l.updateData.id}${l.updateData.name}`},"是",8,wn)]),Object(c["createElementVNode"])("div",Tn,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:`is_enable_refund_check_card_no${l.updateData.id}${l.updateData.name}`,id:`is_enable_refund_check_card_no_false${l.updateData.id}${l.updateData.name}`,value:!1,checked:!l.is_enable_refund,"onUpdate:modelValue":t[28]||(t[28]=e=>l.is_enable_refund=e)},null,8,xn),[[c["vModelRadio"],l.is_enable_refund]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_enable_refund_check_card_no_false${l.updateData.id}${l.updateData.name}`},"否",8,Pn)])])]),Object(c["createElementVNode"])("div",Mn,[Object(c["createElementVNode"])("div",$n,[Object(c["createElementVNode"])("label",{for:`is_enable_offline_transaction${l.updateData.id}${l.updateData.name}`,class:"field-name fs-base"},"付款允許離線交易",8,Bn)]),Object(c["createElementVNode"])("div",Rn,[Object(c["createElementVNode"])("div",An,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:`is_enable_offline_transaction${l.updateData.id}${l.updateData.name}`,id:`is_enable_offline_transaction_true${l.updateData.id}${l.updateData.name}`,value:!0,"onUpdate:modelValue":t[29]||(t[29]=e=>l.is_enable_offline_transaction=e),checked:l.is_enable_offline_transaction},null,8,Un),[[c["vModelRadio"],l.is_enable_offline_transaction]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_enable_offline_transaction_true${l.updateData.id}${l.updateData.name}`},"是",8,Ln)]),Object(c["createElementVNode"])("div",Fn,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:`is_enable_offline_transaction${l.updateData.id}${l.updateData.name}`,id:`is_enable_offline_transaction_false${l.updateData.id}${l.updateData.name}`,value:!1,"onUpdate:modelValue":t[30]||(t[30]=e=>l.is_enable_offline_transaction=e),checked:!l.is_enable_offline_transaction},null,8,Wn),[[c["vModelRadio"],l.is_enable_offline_transaction]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_enable_offline_transaction_false${l.updateData.id}${l.updateData.name}`},"否",8,Gn)])])]),Object(c["createElementVNode"])("div",Yn,[Object(c["createElementVNode"])("div",Kn,[Object(c["createElementVNode"])("label",{for:`is_enable_refund${l.updateData.id}${l.updateData.name}`,class:"field-name fs-base"}," 允許付款刷退 ",8,Hn)]),Object(c["createElementVNode"])("div",qn,[Object(c["createElementVNode"])("div",Jn,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:`is_enable_refund${l.updateData.id}${l.updateData.name}`,id:`is_enable_refund_true${l.updateData.id}${l.updateData.name}`,value:!0,"onUpdate:modelValue":t[31]||(t[31]=e=>l.is_enable_refund_check_card_no=e),checked:l.is_enable_refund_check_card_no},null,8,Zn),[[c["vModelRadio"],l.is_enable_refund_check_card_no]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_enable_refund_true${l.updateData.id}${l.updateData.name}`},"是",8,Qn)]),Object(c["createElementVNode"])("div",Xn,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:`is_enable_refund${l.updateData.id}${l.updateData.name}`,id:`is_enable_refund_false${l.updateData.id}${l.updateData.name}`,value:!1,"onUpdate:modelValue":t[32]||(t[32]=e=>l.is_enable_refund_check_card_no=e),checked:!l.is_enable_refund_check_card_no},null,8,zn),[[c["vModelRadio"],l.is_enable_refund_check_card_no]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_enable_refund_false${l.updateData.id}${l.updateData.name}`},"否",8,el)])])]),Object(c["createElementVNode"])("div",tl,[Object(c["createElementVNode"])("div",al,[Object(c["createElementVNode"])("label",{for:`same_day_cancellation${l.updateData.id}${l.updateData.name}`,class:"field-name fs-base"},"允許當日單據取消",8,cl)]),Object(c["createElementVNode"])("div",nl,[Object(c["createElementVNode"])("div",ll,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:`same_day_cancellation${l.updateData.id}${l.updateData.name}`,id:`same_day_cancellation_true${l.updateData.id}${l.updateData.name}`,value:!0,"onUpdate:modelValue":t[33]||(t[33]=e=>l.is_enable_same_day_cancellation=e),checked:l.is_enable_same_day_cancellation},null,8,ol),[[c["vModelRadio"],l.is_enable_same_day_cancellation]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`same_day_cancellation_true${l.updateData.id}${l.updateData.name}`},"是",8,sl)]),Object(c["createElementVNode"])("div",dl,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:`same_day_cancellation${l.updateData.id}${l.updateData.name}`,id:`same_day_cancellation_false${l.updateData.id}${l.updateData.name}`,value:!1,"onUpdate:modelValue":t[34]||(t[34]=e=>l.is_enable_same_day_cancellation=e),checked:!l.is_enable_same_day_cancellation},null,8,il),[[c["vModelRadio"],l.is_enable_same_day_cancellation]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`same_day_cancellation_false${l.updateData.id}${l.updateData.name}`},"否",8,rl)])])])])])],64)):Object(c["createCommentVNode"])("",!0),"MOBILE_PAYMENT"==l.settingType?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:2},[ml,Object(c["createElementVNode"])("div",bl,[pl,Object(c["createElementVNode"])("div",_l,[Object(c["createElementVNode"])("div",ul,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[35]||(t[35]=e=>l.is_company_data=e),name:`is_company_data${l.updateData.id}${l.updateData.name}`,id:`is_company_data_true${l.updateData.id}${l.updateData.name}`,value:!0,checked:l.is_company_data},null,8,Ol),[[c["vModelRadio"],l.is_company_data]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_company_data_true${l.updateData.id}${l.updateData.name}`}," 是 ",8,hl)]),Object(c["createElementVNode"])("div",jl,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[36]||(t[36]=e=>l.is_company_data=e),name:`is_company_data${l.updateData.id}${l.updateData.name}`,id:`is_company_data_false${l.updateData.id}${l.updateData.name}`,value:!1,checked:!l.is_company_data},null,8,fl),[[c["vModelRadio"],l.is_company_data]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_company_data_false${l.updateData.id}${l.updateData.name}`}," 否 ",8,El)])])]),Object(c["createElementVNode"])("div",Nl,[Vl,Object(c["createElementVNode"])("div",yl,[Object(c["createElementVNode"])("div",vl,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[37]||(t[37]=e=>l.is_test=e),name:`is_test${l.updateData.id}${l.updateData.name}`,id:`is_test_true${l.updateData.id}${l.updateData.name}`,value:!0,checked:l.is_test},null,8,gl),[[c["vModelRadio"],l.is_test]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_test_true${l.updateData.id}${l.updateData.name}`}," 是 ",8,Dl)]),Object(c["createElementVNode"])("div",kl,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[38]||(t[38]=e=>l.is_test=e),name:`is_test${l.updateData.id}${l.updateData.name}`,id:`is_test_false${l.updateData.id}${l.updateData.name}`,value:!1,checked:!l.is_test},null,8,Cl),[[c["vModelRadio"],l.is_test]]),Object(c["createElementVNode"])("label",{class:"form-check-label",for:`is_test_false${l.updateData.id}${l.updateData.name}`}," 否 ",8,Sl)])])]),Object(c["createElementVNode"])("div",Il,[wl,Object(c["createElementVNode"])("div",Tl,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[39]||(t[39]=e=>l.channel_id=e),class:"form-control form-control-sm",placeholder:"請輸入 Channel ID",disabled:l.is_company_data},null,8,xl),[[c["vModelText"],l.channel_id]])])]),Object(c["createElementVNode"])("div",Pl,[Ml,Object(c["createElementVNode"])("div",$l,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[40]||(t[40]=e=>l.channel_secret=e),class:"form-control form-control-sm",placeholder:"請輸入 Channel Secret",disabled:l.is_company_data},null,8,Bl),[[c["vModelText"],l.channel_secret]])])])],64)):"OP"==l.selectedPaymentType?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:3},[Rl,Al,Object(c["createElementVNode"])("div",Ul,[Ll,Object(c["createElementVNode"])("div",Fl,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[41]||(t[41]=e=>l.channel_id=e),placeholder:"請輸入 Channel ID"},null,512),[[c["vModelText"],l.channel_id]])])]),Object(c["createElementVNode"])("div",Wl,[Gl,Object(c["createElementVNode"])("div",Yl,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[42]||(t[42]=e=>l.channel_secret=e),placeholder:"請輸入 Channel Secret"},null,512),[[c["vModelText"],l.channel_secret]])])])],64)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",Kl,[Object(c["createElementVNode"])("button",{type:"button","data-bs-dismiss":"modal",class:"btn btn-outline-primary cancel-btn",onClick:t[43]||(t[43]=(...e)=>o.reset&&o.reset(...e))}," 取消 "),Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-primary confirm-btn",onClick:t[44]||(t[44]=e=>o.setSettingContent())},Object(c["toDisplayString"])("EDIT"===l.openModalType?"儲存":"新增"),1)])])])])}var ql=a("5502"),Jl=a("cfb9"),Zl=a("31c3"),Ql=a("1970");const Xl=e=>new Promise((t,a)=>{Ql["a"].patch("/v1/payment/store/config",e).then(e=>{t(e)}).catch(e=>{a(e)})}),zl=e=>new Promise((t,a)=>{Ql["a"].delete("/v1/payment/store/config",e).then(e=>{t(e)}).catch(e=>{a(e)})});var eo={data(){return{isShopManagement:!1,selectedPaymentType:"請選擇類型",updateData:{},setting_content:{},openModalType:"CREATE",settingType:"",is_company_data:!1,is_test:!1,channel_id:"",channel_secret:"",bank:"請選擇信用卡廠商",is_credit_card_connect:"",credit_card_type:"",is_enable_refund:"",is_enable_same_day_cancellation:"",is_enable_refund_check_card_no:"",is_enable_offline_transaction:""}},props:{companyId:{type:String}},inject:["searchData"],watch:{$route:{immediate:!0,deep:!0,handler(e){"門店管理"==e.meta.title?this.isShopManagement=!0:this.isShopManagement=!1}},is_company_data:{immediate:!0,handler(e){if("MOBILE_PAYMENT"!==this.settingType)return;let t={...this.updateData.setting_content};this.isShopManagement&&(t=this.companyPaymentConfig.find(e=>"OP1"===e.id).setting_content);const{channel_id:a,channel_secret:c}=t;e?(this.channel_id=a,this.channel_secret=c):(this.channel_id="",this.channel_secret="")}}},computed:{...Object(ql["c"])(["companyPaymentTypes","companyPaymentConfig"])},methods:{setPaymentType(e){this.updateData.payment_type.id=this.companyPaymentTypes[e.target.options.selectedIndex-1].id,this.updateData.payment_type.name=this.selectedPaymentType,2==this.updateData.payment_type.name&&this.setTooltip()},setSettingContent(){if("1"==this.selectedPaymentType&&"CREATE"==this.openModalType)this.updateData.is_input_voucher=!1,this.updateData.voucher_length_limit=0;else if("2"==this.selectedPaymentType)this.is_credit_card_connect&&(this.updateData.is_input_voucher=!1,this.updateData.voucher_length_limit=0),this.setting_content={bank:this.bank,is_credit_card_connect:this.is_credit_card_connect,credit_card_type:this.credit_card_type,is_enable_refund:this.is_enable_refund,is_enable_same_day_cancellation:this.is_enable_same_day_cancellation,is_enable_refund_check_card_no:this.is_enable_refund_check_card_no,is_enable_offline_transaction:this.is_enable_offline_transaction},this.updateData.setting_content=this.setting_content;else if("OP"==this.selectedPaymentType){if(!this.channel_id)return void Object(Zl["e"])("無法儲存！","Channel ID未填寫");if(!this.channel_secret)return void Object(Zl["e"])("無法儲存！","Channel Secret未填寫");this.setting_content={channel_id:this.channel_id,channel_secret:this.channel_secret},this.updateData.setting_content=this.setting_content}this.$store.dispatch("setLoading"),this.updateConfig()},updateConfig(){if(this.updateData.company_id=this.companyId,"CREATE"==this.openModalType)this.$store.dispatch("createCompanyPaymentConfig",this.updateData);else if(this.isShopManagement){const{companyId:e,storeId:t}=this.searchData;let a={};if("OP"==this.selectedPaymentType){const{id:c,is_enable:n,setting_content:{channel_id:l,channel_secret:o}}=this.updateData;a={company_id:e,store_id:t,id:c,is_enable:n,setting_content:{is_company_data:this.is_company_data,is_test:this.is_test,channel_id:l,channel_secret:o}},this.$store.dispatch("updateStorePaymentConfig",a)}else"2"==this.selectedPaymentType&&(a={company_id:e,store_id:t,...this.updateData},this.$store.dispatch("updateStorePaymentConfig",a))}else this.$store.dispatch("updateCompanyPaymentConfig",this.updateData);Object(Xt["d"])("paymentSettingModal"),this.reset()},reset(){this.updateData={company_id:"",id:"",name:"",display_name:"",is_enable:!0,payment_type:{id:"",name:""},amount_precision:"0",value:"1",is_discount_enable:!0,is_need_keyin:!1,is_change:!1,is_invoiced:!1,is_input_voucher:!1,voucher_length_limit:"0",position_id:"0",memo:""},this.selectedPaymentType="請選擇類型",this.settingType="",this.bank="請選擇信用卡廠商",this.is_credit_card_connect="",this.credit_card_type="",this.is_enable_refund="",this.is_enable_same_day_cancellation="",this.is_enable_refund_check_card_no="",this.is_enable_offline_transaction="",this.channel_id="",this.channel_secret=""},setTooltip(){const e=document.querySelectorAll("i[name='tooltip']");e.length>0&&e.forEach(e=>{Object(Xt["c"])(e.id)})},setDefaultCreditCardInfo(e){this.bank=e.setting_content.bank,this.is_credit_card_connect=e.setting_content.is_credit_card_connect,this.credit_card_type=e.setting_content.credit_card_type,this.is_enable_refund=e.setting_content.is_enable_refund,this.is_enable_same_day_cancellation=e.setting_content.is_enable_same_day_cancellation,this.is_enable_refund_check_card_no=e.setting_content.is_enable_refund_check_card_no,this.is_enable_offline_transaction=e.setting_content.is_enable_offline_transaction},setDefaultMobileAccount(e){this.channel_id="MOBILE_PAYMENT"===this.settingType?"":e.setting_content.channel_id,this.channel_secret="MOBILE_PAYMENT"===this.settingType?"":e.setting_content.channel_secret,this.is_company_data=e.setting_content.is_company_data,this.is_test=!!e.setting_content.is_test&&e.setting_content.is_test}},mounted(){this.reset(),Jl["a"].on("emit-payment-setting",e=>{this.openModalType=e.type,e.item&&(this.updateData=JSON.parse(JSON.stringify(e.item)),this.selectedPaymentType=this.updateData.payment_type.id),e.settingType&&(this.settingType=e.settingType),"2"==this.selectedPaymentType&&(this.setDefaultCreditCardInfo(this.updateData),setTimeout(()=>{this.setTooltip()},300)),"OP"==this.selectedPaymentType&&this.setDefaultMobileAccount(this.updateData)})},unmounted(){Jl["a"].off("emit-payment-setting")}},to=(a("3e8f"),a("6b0d")),ao=a.n(to);const co=ao()(eo,[["render",Hl],["__scopeId","data-v-5b4502d4"]]);var no=co;const lo=e=>(Object(c["pushScopeId"])("data-v-3415d1c7"),e=e(),Object(c["popScopeId"])(),e),oo={class:"modal fade",id:"addPayment","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"addPaymentLabel","aria-hidden":"true"},so={class:"modal-dialog modal-dialog-centered modal-md modal-dialog-scrollable"},io={class:"modal-content",ref:"modal"},ro=lo(()=>Object(c["createElementVNode"])("div",{class:"modal-header mb-2"},[Object(c["createElementVNode"])("h2",{class:"fs-title fw-normal",id:"addPaymentLabel"},"新增付款方式")],-1)),mo={class:"modal-body"},bo={class:"table"},po=lo(()=>Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{scope:"col",class:"text-center"},"選擇"),Object(c["createElementVNode"])("th",{scope:"col"},"付款方式編號"),Object(c["createElementVNode"])("th",{scope:"col"},"付款方式名稱")])],-1)),_o={class:"text-center"},uo=["name","id","onClick"],Oo=["for"],ho=["for"],jo={class:"modal-footer justify-content-center border-top-0"},fo=lo(()=>Object(c["createElementVNode"])("button",{type:"button","data-bs-dismiss":"modal",class:"btn btn-outline-primary cancel-btn"}," 取消 ",-1));function Eo(e,t,a,n,l,o){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",oo,[Object(c["createElementVNode"])("div",so,[Object(c["createElementVNode"])("div",io,[ro,Object(c["createElementVNode"])("div",mo,[Object(c["createElementVNode"])("table",bo,[po,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.paymentsInCompany,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:e.id},[Object(c["createElementVNode"])("td",_o,[Object(c["createElementVNode"])("input",{class:"form-check-input",type:"checkbox",name:e.name+"Checkbox",id:"companyPayment"+e.id,onClick:t=>o.addPayment(t,e)},null,8,uo)]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("label",{class:"form-check-label fw-normal text-black",for:"companyPayment"+e.id},Object(c["toDisplayString"])(e.id),9,Oo)]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("label",{class:"form-check-label fw-normal text-black",for:"companyPayment"+e.id},Object(c["toDisplayString"])(e.name),9,ho)])]))),128))])])]),Object(c["createElementVNode"])("div",jo,[fo,Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-primary confirm-btn","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=e=>o.addPayments())}," 新增 ")])],512)])])}var No={data(){return{payments:[]}},computed:{...Object(ql["c"])(["paymentsInCompany"])},methods:{addPayment(e,t){e.target.checked?this.payments.push(t):this.payments=this.payments.filter(e=>e.id!==t.id)},addPayments(){this.$emit("emit-add-payments",this.payments),this.reset()},reset(){this.payments=[];const e=this.$refs.modal.querySelectorAll(".form-check-input");e.forEach(e=>e.checked=!1)}}};a("e315");const Vo=ao()(No,[["render",Eo],["__scopeId","data-v-3415d1c7"]]);var yo=Vo,vo=a("ca62"),go={data(){return{isShopManagement:!1,paymentConfig:"",deleteIds:[],hasCompanyEditAuth:!1,allEnableStore:[]}},components:{PaymentSettingModal:no,AddStorePaymentModal:yo,UsingStoreList:vo["a"]},inject:["searchData","is_embeddedWeb"],watch:{$route:{immediate:!0,handler(e){e.path.includes("shopManagement")||this.is_embeddedWeb?this.isShopManagement=!0:(this.setCompanyEditAuth(),this.isShopManagement=!1)}},searchData:{deep:!0,immediate:!0,handler(e){""!==e.companyId&&this.getCompanyPaymentConfig(),(this.$route.path.includes("shopManagement")||this.is_embeddedWeb)&&""!==e.companyId&&""!==e.storeId&&this.getStorePaymentConfig()}},companyPaymentConfig:{immediate:!0,handler(e){this.isShopManagement||(this.paymentConfig=e)}},storePaymentConfig:{immediate:!0,handler(e){this.isShopManagement&&(this.paymentConfig=e)}}},computed:{...Object(ql["c"])(["companyPaymentConfig","companyPaymentTypes","storePaymentConfig","paymentsInCompany","routerAuthority","targetRouteAuthority"])},methods:{async showDeleteAlert(){const e=await Object(Zl["h"])("確定刪除?","刪除後無法復原","確定");if(e){this.$store.dispatch("setLoading");const e={company_id:this.searchData.companyId,...this.isShopManagement&&{store_id:this.searchData.storeId},ids:this.deleteIds};if(this.isShopManagement){const t=await zl(e);204===t.status&&(this.$store.dispatch("hideLoading"),this.$store.dispatch("getStorePaymentConfig",e),Object(Zl["g"])("刪除成功"))}else this.$store.dispatch("deleteCompanyPaymentConfig",e)}},showEditModal(e,t){console.log(e,t);const a={type:"EDIT",item:e,settingType:t};Object(Xt["g"])(a)},disabledStatus(e){return!this.targetRouteAuthority.can_delete||(this.isShopManagement?!0===e.is_enable:!0===e.is_enable||!0===e.is_keep)},async updatePaymentStatus(e,t){const a=t.target.checked;t.preventDefault();const c=JSON.parse(JSON.stringify(e)),{companyId:n,storeId:l}=this.searchData;if(c.company_id=n,c.is_enable=a,c.changeStatus=!0,this.isShopManagement){c.store_id=l,c.setting_content||(c.setting_content={null:null}),console.log(c);try{this.$store.dispatch("setLoading");const e=await Xl(c);if(console.log(e),204===e.status){const e={company_id:n,store_id:l};await this.$store.dispatch("getStorePaymentConfig",e),this.$store.dispatch("hideLoading"),Object(Zl["g"])("儲存成功")}else Object(Zl["e"])("無法儲存","請洽客服人員")}catch(o){Object(Zl["e"])("無法儲存","發生暫時性的錯誤，請稍後再試"),console.log(o)}this.$store.dispatch("hideLoading")}else{if(!a){const e="\n          <p>尚有啟用中的門市</p>\n          <p>關閉將造成門市無法使用！</p>\n          <p>使用中門市如下：</p>\n          <p>p中壢福州</p>\n          <p>p中壢福州</p>\n          <span class='showDetailText' data-bs-toggle='modal' data-bs-target='#usingStoreListModal' >\n            查看更多使用中的門市資料\n          </span>",t=await Object(Zl["h"])("確定關閉？",e,"確定",!0);return void(t&&this.$store.dispatch("updateCompanyPaymentConfig",c))}this.$store.dispatch("updateCompanyPaymentConfig",c)}},toggleDelBtn(e,t){t.target.checked?this.deleteIds.push(e):this.deleteIds=this.deleteIds.filter(t=>t!==e)},addPayment(){if(this.isShopManagement)Object(Xt["e"])();else{const e={type:"CREATE",isShopManagement:this.isShopManagement};Object(Xt["g"])(e)}},getCompanyPaymentConfig(){const e={company_id:this.searchData.companyId};this.$store.dispatch("getCompanyPaymentConfig",e),this.$store.dispatch("getCompanyPaymentTypes",e)},getStorePaymentConfig(){const e={company_id:this.searchData.companyId,store_id:this.searchData.storeId},t={company_id:this.searchData.companyId};this.$store.dispatch("getStorePaymentConfig",e),this.$store.dispatch("getPaymentsInCompany",t)},addStorePayments(e){const t={company_id:this.searchData.companyId,store_id:this.searchData.storeId,payments:e};this.$store.dispatch("createStorePaymentConfig",t)},setBankName(e){let t;switch(e){case"CREDIT_CARD":t="信用卡";break;case"UNION_PAY_CARD":t="銀聯卡";break;case"SMART_PAY":t="Smart Pay";break;case"EC_TICKET":t="電子票證";break;default:break}return t},setTooltip(e){if(2==e){const e=document.querySelectorAll("i[name='tooltip']");e.length>0&&e.forEach(e=>{Object(Xt["c"])(e.id)})}},setAccountAuth(){const e=JSON.parse(JSON.stringify(this.routerAuthority)),t=e.filter(e=>e.name==this.$route.name)[0];this.accountAuth=t},setCompanyEditAuth(){const e=this.routerAuthority.filter(e=>"公司管理付款方式設定"==e.name)[0];this.hasCompanyEditAuth=e.meta.can_edit}}};a("9b79");const Do=ao()(go,[["render",Qt],["__scopeId","data-v-a2165bd6"]]);t["a"]=Do},"3e8f":function(e,t,a){"use strict";a("8fb2")},"4d14":function(e,t,a){},"55cb":function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"f",(function(){return d})),a.d(t,"g",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"h",(function(){return m})),a.d(t,"d",(function(){return b}));var c=a("7b17"),n=a("cfb9");const l=e=>new c["e"](document.getElementById(e)),o=e=>new c["j"](document.getElementById(e)),s=e=>new c["d"](document.getElementById(e)),d=e=>{n["a"].emit("emit-machine-setting",e);const t=l("machineSettingModal");t.show()},i=e=>{n["a"].emit("emit-payment-setting",e);const t=l("paymentSettingModal");t.show()},r=e=>{const t=l("addPayment");t.show()},m=e=>{const t=l(e);t.show()},b=e=>{const t=document.getElementById(e),a=document.querySelector(".modal-backdrop");document.body.setAttribute("data-aos-duration",0),t.classList.remove("show"),t.style.display="none",document.body.className="",document.body.style="",a.remove()}},"59eb":function(e,t,a){},"5bb0":function(e,t,a){},"67e8":function(e){e.exports=JSON.parse('{"web_platforms":[{"id":"APP","name":"APP","display_name":"APP"},{"id":"KIOSK","name":"KIOSK","display_name":"KIOSK"}],"platformConfig":[{"id":"KIOSK","name":"KIOSK","display_name":"KIOSK","is_enable":true,"is_menu_maintenance":false,"is_platform_connection":false,"accept_order_setting":{"is_order_to_sale_temp":false,"is_paid_order_to_sale":false,"is_paid_order_to_checkout":false,"pos_print_type":"BY_MACHINE_CONFIG","is_print_order_info_qr_code":false},"cancel_order_setting":{"cancel_function_type":"BY_QUERY_WINDOW","display_name":"取消訂單","message":"取消訂單成功","is_copy_order":false,"copy_display_name":"取消訂單\\n並複製"},"sale_return_setting":{"is_enable_sale_return":false}}]}')},"6ecd":function(e,t,a){},7477:function(e,t,a){"use strict";a("4d14")},7578:function(e,t,a){"use strict";a("8ba0")},"781a":function(e,t,a){"use strict";var c=a("7a23");const n=e=>(Object(c["pushScopeId"])("data-v-07919822"),e=e(),Object(c["popScopeId"])(),e),l={key:0,class:"text-end mt-3"},o=["disabled"],s={key:1,type:"button",class:"btn btn-primary px-4","data-bs-toggle":"modal","data-bs-target":"#addWebPlatform"},d={key:1,class:"accordion mt-3 border",id:"webplatform"},i={class:"container-fluid content-layout"},r={class:"row align-items-center py-2 bg-secondary-light"},m={key:0,class:"col-1 text-center"},b=n(()=>Object(c["createElementVNode"])("p",null,"刪除",-1)),p=[b],_=n(()=>Object(c["createElementVNode"])("div",{class:"col-2 text-center"},[Object(c["createElementVNode"])("p",null,"狀態")],-1)),u=n(()=>Object(c["createElementVNode"])("div",{class:"col-3"},[Object(c["createElementVNode"])("p",null,"網路平台顯示名稱"),Object(c["createElementVNode"])("span",{class:"text-lighter fs-small"},"網路平台編號")],-1)),O=n(()=>Object(c["createElementVNode"])("p",null,"菜單維護",-1)),h=[O],j=n(()=>Object(c["createElementVNode"])("p",null,"平台串接",-1)),f=[j],E=n(()=>Object(c["createElementVNode"])("div",{class:"col-2 text-end"},[Object(c["createElementVNode"])("p",{class:"detail-title"},"詳細資訊")],-1)),N={key:1,class:"col-2 text-center"},V=n(()=>Object(c["createElementVNode"])("p",null,"操作",-1)),y=[V],v={class:"row align-items-center border-bottom"},g={key:0,class:"col-1 text-center"},D=["value"],k={class:"col-2 d-center"},C={class:"form-check form-switch"},S=["onClick","checked"],I={class:"col-3"},w={class:"text-lighter fs-small"},T={key:0,class:"form-check form-switch"},x=["onClick","checked"],P={key:1},M={key:0,class:"form-check form-switch"},$=["onClick","checked"],B={key:1},R={class:"col-2 text-end"},A=["data-bs-target","aria-controls"],U={key:1,class:"col-2 d-center"},L=["onClick"],F=n(()=>Object(c["createElementVNode"])("i",{class:"ri-pencil-line me-1"},null,-1)),W=["id"],G={class:"accordion-body"},Y={class:"container-fluid"},K={class:"d-between"},H=n(()=>Object(c["createElementVNode"])("h2",{class:"fs-large"},"接受訂單流程設定",-1)),q=n(()=>Object(c["createElementVNode"])("i",{class:"ri-pencil-line me-1"},null,-1)),J={key:0,class:"row"},Z={class:"col"},Q={class:"row item-spacing"},X=n(()=>Object(c["createElementVNode"])("div",{class:"col text-xl-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"自動掛單出單")],-1)),z={class:"col"},ee={class:"row item-spacing"},te=n(()=>Object(c["createElementVNode"])("div",{class:"col text-xl-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"已付訂單自動轉銷單")],-1)),ae={class:"col"},ce={class:"row item-spacing"},ne=n(()=>Object(c["createElementVNode"])("div",{class:"col text-xl-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"已付訂單自動跳至結帳頁面")],-1)),le={class:"col"},oe={class:"col"},se={class:"row item-spacing"},de=n(()=>Object(c["createElementVNode"])("div",{class:"col text-xl-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"POS印單處理類型")],-1)),ie={class:"col"},re={class:"row item-spacing"},me=n(()=>Object(c["createElementVNode"])("div",{class:"col text-xl-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"列印訂單資訊QRCode")],-1)),be={class:"col"},pe=n(()=>Object(c["createElementVNode"])("hr",{class:"item-spacing"},null,-1)),_e=n(()=>Object(c["createElementVNode"])("h2",{class:"fs-large"},"取消訂單流程設定",-1)),ue={key:1,class:"row"},Oe={class:"col"},he={class:"row item-spacing"},je=n(()=>Object(c["createElementVNode"])("div",{class:"col text-xl-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"交易清除功能處理類型")],-1)),fe={class:"col"},Ee={class:"row item-spacing"},Ne=n(()=>Object(c["createElementVNode"])("div",{class:"col text-xl-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"取消訂單後提示訊息")],-1)),Ve={class:"col"},ye={class:"col"},ve={class:"row item-spacing"},ge=n(()=>Object(c["createElementVNode"])("div",{class:"col text-xl-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"取消訂單按鈕顯示名稱")],-1)),De={class:"col"},ke={key:2,class:"emptyDataMessage"};function Ce(e,t,a,n,b,O){const j=Object(c["resolveComponent"])("AddWebPlatform"),V=Object(c["resolveComponent"])("EditWebPlatform"),Ce=Object(c["resolveComponent"])("UsingStoreList");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[O.isShopManagement?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[e.targetRouteAuthority.can_delete&&O.configData.length>0?(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{key:0,type:"button",disabled:0===b.delItem.length,onClick:t[0]||(t[0]=e=>O.showDeleteAlert()),class:"btn btn-light border px-4 me-2"}," 刪除 ",8,o)):Object(c["createCommentVNode"])("",!0),e.targetRouteAuthority.can_add?(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",s," 新增 ")):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0),O.configData.length>0?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",d,[Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",r,[O.isShopManagement?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",m,p)):Object(c["createCommentVNode"])("",!0),_,u,Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["col",{isShopManagement:"d-center"}])},h),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["col",{isShopManagement:"d-center"}])},f),E,!O.isShopManagement&&O.companyEditAccess?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",N,y)):Object(c["createCommentVNode"])("",!0)]),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(O.configData,(e,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:e.id},[Object(c["createElementVNode"])("div",v,[O.isShopManagement?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",g,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"checkbox",value:e.id,"onUpdate:modelValue":t[1]||(t[1]=e=>b.delItem=e),id:"flexCheckDefault"},null,8,D),[[c["vModelCheckbox"],b.delItem]])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",k,[Object(c["createElementVNode"])("div",C,[Object(c["createElementVNode"])("input",{class:"form-check-input switch-btn border-0",role:"switch",type:"checkbox",onClick:t=>O.changeStatus("is_enable",t,e),checked:e.is_enable},null,8,S)])]),Object(c["createElementVNode"])("div",I,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.display_name),1),Object(c["createElementVNode"])("span",w,Object(c["toDisplayString"])(e.id),1)]),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["col",{isShopManagement:"d-center"}])},[O.isShopManagement?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",T,[Object(c["createElementVNode"])("input",{class:"form-check-input switch-btn border-0",role:"switch",type:"checkbox",onClick:t=>O.changeStatus("is_menu_maintenance",t,e),checked:e.is_menu_maintenance},null,8,x)])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",P,Object(c["toDisplayString"])(e.is_menu_maintenance?"是":"否"),1))]),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["col",{isShopManagement:"d-center"}])},[O.isShopManagement?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",M,[Object(c["createElementVNode"])("input",{class:"form-check-input switch-btn border-0",role:"switch",type:"checkbox",onClick:t=>O.changeStatus("is_platform_connection",t,e),checked:e.is_platform_connection},null,8,$)])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",B,Object(c["toDisplayString"])(e.is_platform_connection?"是":"否"),1))]),Object(c["createElementVNode"])("div",R,[Object(c["createElementVNode"])("button",{class:"accordion-button d-end collapsed bg-white p-2 shadow-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+a,"aria-expanded":"false","aria-controls":"collapse"+a}," 詳細資料 ",8,A)]),!O.isShopManagement&&O.companyEditAccess?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",U,[Object(c["createElementVNode"])("button",{type:"button",class:"d-center btn btn-sm operate-btn","data-bs-toggle":"modal","data-bs-target":"#editWebPlatform",onClick:t=>b.editItem=e},[F,Object(c["createTextVNode"])("編輯 ")],8,L)])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",{id:"collapse"+a,class:"accordion-collapse collapse","aria-labelledby":"heading1","data-bs-parent":"#webplatform"},[Object(c["createElementVNode"])("div",G,[Object(c["createElementVNode"])("div",Y,[Object(c["createElementVNode"])("div",K,[H,O.companyEditAccess&&O.isShopManagement&&!O.is_embeddedWeb?(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{key:0,type:"button",class:"d-center btn btn-sm operate-btn",onClick:t[2]||(t[2]=e=>O.jumpToCompany())},[q,Object(c["createTextVNode"])("編輯 ")])):Object(c["createCommentVNode"])("",!0)]),e.accept_order_setting?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",J,[Object(c["createElementVNode"])("div",Z,[Object(c["createElementVNode"])("div",Q,[X,Object(c["createElementVNode"])("div",z,Object(c["toDisplayString"])(e.accept_order_setting.is_order_to_sale_temp?"是":"否"),1)]),Object(c["createElementVNode"])("div",ee,[te,Object(c["createElementVNode"])("div",ae,Object(c["toDisplayString"])(e.accept_order_setting.is_paid_order_to_sale?"是":"否"),1)]),Object(c["createElementVNode"])("div",ce,[ne,Object(c["createElementVNode"])("div",le,Object(c["toDisplayString"])(e.accept_order_setting.is_paid_order_to_checkout?"是":"否"),1)])]),Object(c["createElementVNode"])("div",oe,[Object(c["createElementVNode"])("div",se,[de,Object(c["createElementVNode"])("div",ie,Object(c["toDisplayString"])(b.translate(e.accept_order_setting.pos_print_type)),1)]),Object(c["createElementVNode"])("div",re,[me,Object(c["createElementVNode"])("div",be,Object(c["toDisplayString"])(e.accept_order_setting.is_print_order_info_qr_code?"是":"否"),1)])])])):Object(c["createCommentVNode"])("",!0),pe,_e,e.cancel_order_setting?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ue,[Object(c["createElementVNode"])("div",Oe,[Object(c["createElementVNode"])("div",he,[je,Object(c["createElementVNode"])("div",fe,Object(c["toDisplayString"])(b.translate(e.cancel_order_setting.cancel_function_type)),1)]),Object(c["createElementVNode"])("div",Ee,[Ne,Object(c["createElementVNode"])("div",Ve,Object(c["toDisplayString"])(e.cancel_order_setting.message),1)])]),Object(c["createElementVNode"])("div",ye,[Object(c["createElementVNode"])("div",ve,[ge,Object(c["createElementVNode"])("div",De,Object(c["toDisplayString"])(e.cancel_order_setting.display_name),1)])])])):Object(c["createCommentVNode"])("",!0)])])],8,W)],64))),128))])])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("h2",ke,"目前還沒有建立資料哟～")),O.isShopManagement?(Object(c["openBlock"])(),Object(c["createBlock"])(j,{key:3,onGetData:O.getData},null,8,["onGetData"])):(Object(c["openBlock"])(),Object(c["createBlock"])(V,{key:4,editItem:b.editItem,onGetData:O.getData},null,8,["editItem","onGetData"])),Object(c["createVNode"])(Ce,{allEnableStore:b.allEnableStore},null,8,["allEnableStore"])],64)}a("14d9");var Se=a("5502"),Ie=a("c457"),we=a("31c3");const Te=e=>(Object(c["pushScopeId"])("data-v-22fbc76e"),e=e(),Object(c["popScopeId"])(),e),xe={class:"modal fade",id:"addWebPlatform","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"addWebPlatformLabel","aria-hidden":"true","data-bs-focus":"false"},Pe={class:"modal-dialog modal-dialog-centered modal-md modal-dialog-scrollable"},Me={class:"modal-content",ref:"modal"},$e=Te(()=>Object(c["createElementVNode"])("div",{class:"modal-header mb-2"},[Object(c["createElementVNode"])("h2",{class:"fs-title fw-normal",id:"addWebPlatformLabel"}," 新增網路平台類型 ")],-1)),Be={class:"modal-body"},Re={class:"table"},Ae=Te(()=>Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",{class:"bg-secondary-light"},[Object(c["createElementVNode"])("td",{class:"text-center"},"選擇"),Object(c["createElementVNode"])("td",null,"網路平台編號"),Object(c["createElementVNode"])("td",null,"網路平台顯示名稱")])],-1)),Ue={class:"text-center"},Le=["id","value"],Fe=["for"],We={class:"modal-footer justify-content-center border-top-0"},Ge=Te(()=>Object(c["createElementVNode"])("button",{type:"button","data-bs-dismiss":"modal",class:"btn btn-outline-primary cancel-btn"}," 取消 ",-1));function Ye(e,t,a,n,l,o){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",xe,[Object(c["createElementVNode"])("div",Pe,[Object(c["createElementVNode"])("div",Me,[$e,Object(c["createElementVNode"])("div",Be,[Object(c["createElementVNode"])("table",Re,[Ae,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.storePlatforms,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:e.id},[Object(c["createElementVNode"])("td",Ue,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"checkbox",name:"platformCheckbox",id:e.id,value:{id:e.id,name:e.name},"onUpdate:modelValue":t[0]||(t[0]=e=>l.platform=e)},null,8,Le),[[c["vModelCheckbox"],l.platform]])]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("label",{for:e.id},Object(c["toDisplayString"])(e.id),9,Fe)]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.display_name),1)]))),128))])])]),Object(c["createElementVNode"])("div",We,[Ge,Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-primary confirm-btn",onClick:t[1]||(t[1]=e=>o.addPlatform())}," 新增 ")])],512)])])}var Ke=a("55cb"),He=a("67e8"),qe=a("1970");const Je=e=>new Promise((t,a)=>{qe["a"].post("/v1/basic/web_platform/store/config",e).then(e=>{t(e)}).catch(e=>{a(e)})}),Ze=e=>new Promise((t,a)=>{qe["a"].patch("/v1/basic/web_platform/store/config",e).then(e=>{t(e)}).catch(e=>{a(e)})}),Qe=e=>new Promise((t,a)=>{qe["a"].delete("/v1/basic/web_platform/store/config",e).then(e=>{t(e)}).catch(e=>{a(e)})});var Xe={data(){return{platform:[],modal:{},tempData:He.web_platforms}},inject:["searchData"],emits:["getData"],computed:{...Object(Se["c"])(["storePlatforms"])},methods:{async addPlatform(){if(0===this.platform.length)return void Object(we["e"])("無法新增！","未選擇網路平台類型");this.$store.dispatch("setLoading");const{companyId:e,storeId:t}=this.searchData,a={company_id:e,store_id:t,web_platforms:[...this.platform]};try{const e=await Je(a);this.$store.dispatch("hideLoading"),console.log(e),204===e.status?(this.$emit("getData"),this.modal.hide()):Object(we["e"])("無法新增！",e.data.message)}catch(c){this.$store.dispatch("hideLoading"),Object(we["e"])("無法新增！","請聯絡客服人員"),console.log(c)}}},mounted(){this.modal=Object(Ke["b"])("addWebPlatform");const e=document.getElementById("addWebPlatform");e.addEventListener("show.bs.modal",()=>{this.platform.splice(0)})}},ze=(a("1568"),a("6b0d")),et=a.n(ze);const tt=et()(Xe,[["render",Ye],["__scopeId","data-v-22fbc76e"]]);var at=tt;const ct={class:"modal fade",id:"editWebPlatform","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"editWebPlatformLabel","aria-hidden":"true","data-bs-focus":"false"},nt={class:"modal-dialog modal-dialog-centered modal-md modal-dialog-scrollable modal-fullscreen-lg-down"},lt={key:0,class:"modal-content",ref:"modal"},ot={class:"modal-header mb-2"},st={class:"fs-title fw-normal",id:"editWebPlatformLabel"},dt={class:"modal-body"},it={class:"container-fluid"},rt=Object(c["createElementVNode"])("h2",{class:"fs-large fw-normal mb-3"},"一般設定",-1),mt={class:"row item-spacing"},bt=Object(c["createElementVNode"])("div",{class:"col-5 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base",for:"display_name"},"網路平台顯示名稱")],-1),pt={class:"col"},_t={class:"row item-spacing"},ut=Object(c["createElementVNode"])("div",{class:"col-5 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"菜單維護")],-1),Ot={class:"col"},ht={class:"form-check form-check-inline"},jt=Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_menu_maintenanceTrue"},"是",-1),ft={class:"form-check form-check-inline"},Et=Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_menu_maintenanceFalse"},"否",-1),Nt={class:"row item-spacing"},Vt=Object(c["createElementVNode"])("div",{class:"col-5 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"平台串接")],-1),yt={class:"col"},vt={class:"form-check form-check-inline"},gt=Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_platform_connectionTrue"},"是",-1),Dt={class:"form-check form-check-inline"},kt=Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_platform_connectionFalse"},"否",-1),Ct=Object(c["createElementVNode"])("hr",{class:"item-spacing"},null,-1),St=Object(c["createElementVNode"])("h2",{class:"fs-large fw-normal mb-3"},"接受訂單流程設定",-1),It={class:"row item-spacing"},wt=Object(c["createElementVNode"])("div",{class:"col-5 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"自動掛單出單")],-1),Tt={class:"col"},xt={class:"form-check form-check-inline"},Pt=Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_order_to_sale_tempTrue"},"是",-1),Mt={class:"form-check form-check-inline"},$t=Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_order_to_sale_tempFalse"},"否",-1),Bt={class:"row item-spacing"},Rt=Object(c["createElementVNode"])("div",{class:"col-5 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},[Object(c["createTextVNode"])("已付訂單"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])("自動轉銷單")])],-1),At={class:"col"},Ut={class:"form-check form-check-inline"},Lt=Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_paid_order_to_saleTrue"},"是",-1),Ft={class:"form-check form-check-inline"},Wt=Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_paid_order_to_saleFalse"},"否",-1),Gt={class:"row item-spacing"},Yt=Object(c["createElementVNode"])("div",{class:"col-5 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},[Object(c["createTextVNode"])("已付訂單"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])("自動跳至結帳頁面")])],-1),Kt={class:"col"},Ht={class:"form-check form-check-inline"},qt=Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_paid_order_to_checkoutTrue"},"是",-1),Jt={class:"form-check form-check-inline"},Zt=Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_paid_order_to_checkoutFalse"},"否",-1),Qt={class:"row item-spacing"},Xt=Object(c["createElementVNode"])("div",{class:"col-5 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"POS印單處理類型")],-1),zt={class:"col-5"},ea=Object(c["createElementVNode"])("option",{value:"BY_MACHINE_CONFIG"}," 依[裝置設定]參數設定設定 ",-1),ta=Object(c["createElementVNode"])("option",{value:"NOT_PRINT"},"一律不列印",-1),aa=Object(c["createElementVNode"])("option",{value:"PENDING_ORDER_NOT_PRINT"}," 掛單不列印(其他流程依參數設定決定) ",-1),ca=[ea,ta,aa],na={class:"row item-spacing"},la=Object(c["createElementVNode"])("div",{class:"col-5 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},"列印訂單資訊QRCode")],-1),oa={class:"col"},sa={class:"form-check form-check-inline"},da=Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_print_order_info_qr_codeTrue"},"是",-1),ia={class:"form-check form-check-inline"},ra=Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_print_order_info_qr_codeFalse"},"否",-1),ma=Object(c["createElementVNode"])("hr",{class:"item-spacing"},null,-1),ba=Object(c["createElementVNode"])("h2",{class:"fs-large fw-normal mb-3"},"取消訂單流程設定",-1),pa={class:"row item-spacing"},_a=Object(c["createElementVNode"])("div",{class:"col-5 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base"},[Object(c["createTextVNode"])("交易清除功能 "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" 處理類型")])],-1),ua={class:"col-5"},Oa=Object(c["createElementVNode"])("option",{value:"BY_QUERY_WINDOW"},"依詢問視窗選擇",-1),ha=Object(c["createElementVNode"])("option",{value:"CANCEL_ORDER"},"一律取消訂單",-1),ja=Object(c["createElementVNode"])("option",{value:"PICK_WRONG_ORDER"},"一律視為取錯單",-1),fa=[Oa,ha,ja],Ea={class:"row item-spacing"},Na=Object(c["createElementVNode"])("div",{class:"col-5 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base",for:"cancelOrderDisplayName"},[Object(c["createTextVNode"])("取消訂單按鈕 "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" 顯示名稱")])],-1),Va={class:"col-5"},ya={class:"row item-spacing"},va=Object(c["createElementVNode"])("div",{class:"col-5 text-end"},[Object(c["createElementVNode"])("label",{class:"field-name fs-base",for:"message"},"取消訂單後提示訊息")],-1),ga={class:"col"},Da={class:"modal-footer justify-content-center border-top-0"},ka=Object(c["createElementVNode"])("button",{type:"button","data-bs-dismiss":"modal",class:"btn btn-outline-primary cancel-btn"}," 取消 ",-1);function Ca(e,t,a,n,l,o){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ct,[Object(c["createElementVNode"])("div",nt,[o.editData?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",lt,[Object(c["createElementVNode"])("div",ot,[Object(c["createElementVNode"])("h2",st," 編輯 "+Object(c["toDisplayString"])(o.editData.id)+" "+Object(c["toDisplayString"])(o.editData.name),1)]),Object(c["createElementVNode"])("div",dt,[Object(c["createElementVNode"])("div",it,[rt,Object(c["createElementVNode"])("div",mt,[bt,Object(c["createElementVNode"])("div",pt,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control",id:"display_name","onUpdate:modelValue":t[0]||(t[0]=e=>o.editData.display_name=e)},null,512),[[c["vModelText"],o.editData.display_name]])])]),Object(c["createElementVNode"])("div",_t,[ut,Object(c["createElementVNode"])("div",Ot,[Object(c["createElementVNode"])("div",ht,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_menu_maintenance",id:"is_menu_maintenanceTrue",value:!0,"onUpdate:modelValue":t[1]||(t[1]=e=>o.editData.is_menu_maintenance=e)},null,512),[[c["vModelRadio"],o.editData.is_menu_maintenance]]),jt]),Object(c["createElementVNode"])("div",ft,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_menu_maintenance",id:"is_menu_maintenanceFalse",value:!1,"onUpdate:modelValue":t[2]||(t[2]=e=>o.editData.is_menu_maintenance=e)},null,512),[[c["vModelRadio"],o.editData.is_menu_maintenance]]),Et])])]),Object(c["createElementVNode"])("div",Nt,[Vt,Object(c["createElementVNode"])("div",yt,[Object(c["createElementVNode"])("div",vt,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_platform_connection",id:"is_platform_connectionTrue",value:!0,"onUpdate:modelValue":t[3]||(t[3]=e=>o.editData.is_platform_connection=e)},null,512),[[c["vModelRadio"],o.editData.is_platform_connection]]),gt]),Object(c["createElementVNode"])("div",Dt,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_platform_connection",id:"is_platform_connectionFalse",value:!1,"onUpdate:modelValue":t[4]||(t[4]=e=>o.editData.is_platform_connection=e)},null,512),[[c["vModelRadio"],o.editData.is_platform_connection]]),kt])])]),Ct,St,Object(c["createElementVNode"])("div",It,[wt,Object(c["createElementVNode"])("div",Tt,[Object(c["createElementVNode"])("div",xt,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_order_to_sale_temp",id:"is_order_to_sale_tempTrue",value:!0,"onUpdate:modelValue":t[5]||(t[5]=e=>o.editData.accept_order_setting.is_order_to_sale_temp=e)},null,512),[[c["vModelRadio"],o.editData.accept_order_setting.is_order_to_sale_temp]]),Pt]),Object(c["createElementVNode"])("div",Mt,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_order_to_sale_temp",id:"is_order_to_sale_tempFalse",value:!1,"onUpdate:modelValue":t[6]||(t[6]=e=>o.editData.accept_order_setting.is_order_to_sale_temp=e)},null,512),[[c["vModelRadio"],o.editData.accept_order_setting.is_order_to_sale_temp]]),$t])])]),Object(c["createElementVNode"])("div",Bt,[Rt,Object(c["createElementVNode"])("div",At,[Object(c["createElementVNode"])("div",Ut,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_paid_order_to_sale",id:"is_paid_order_to_saleTrue",value:!0,"onUpdate:modelValue":t[7]||(t[7]=e=>o.editData.accept_order_setting.is_paid_order_to_sale=e)},null,512),[[c["vModelRadio"],o.editData.accept_order_setting.is_paid_order_to_sale]]),Lt]),Object(c["createElementVNode"])("div",Ft,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_paid_order_to_sale",id:"is_paid_order_to_saleFalse",value:!1,"onUpdate:modelValue":t[8]||(t[8]=e=>o.editData.accept_order_setting.is_paid_order_to_sale=e)},null,512),[[c["vModelRadio"],o.editData.accept_order_setting.is_paid_order_to_sale]]),Wt])])]),Object(c["createElementVNode"])("div",Gt,[Yt,Object(c["createElementVNode"])("div",Kt,[Object(c["createElementVNode"])("div",Ht,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_paid_order_to_checkout",id:"is_paid_order_to_checkoutTrue",value:!0,"onUpdate:modelValue":t[9]||(t[9]=e=>o.editData.accept_order_setting.is_paid_order_to_checkout=e)},null,512),[[c["vModelRadio"],o.editData.accept_order_setting.is_paid_order_to_checkout]]),qt]),Object(c["createElementVNode"])("div",Jt,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_paid_order_to_checkout",id:"is_paid_order_to_checkoutFalse",value:!1,"onUpdate:modelValue":t[10]||(t[10]=e=>o.editData.accept_order_setting.is_paid_order_to_checkout=e)},null,512),[[c["vModelRadio"],o.editData.accept_order_setting.is_paid_order_to_checkout]]),Zt])])]),Object(c["createElementVNode"])("div",Qt,[Xt,Object(c["createElementVNode"])("div",zt,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select","onUpdate:modelValue":t[11]||(t[11]=e=>o.editData.accept_order_setting.pos_print_type=e)},ca,512),[[c["vModelSelect"],o.editData.accept_order_setting.pos_print_type]])])]),Object(c["createElementVNode"])("div",na,[la,Object(c["createElementVNode"])("div",oa,[Object(c["createElementVNode"])("div",sa,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_print_order_info_qr_code",id:"is_print_order_info_qr_codeTrue",value:!0,"onUpdate:modelValue":t[12]||(t[12]=e=>o.editData.accept_order_setting.is_print_order_info_qr_code=e)},null,512),[[c["vModelRadio"],o.editData.accept_order_setting.is_print_order_info_qr_code]]),da]),Object(c["createElementVNode"])("div",ia,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"radio",name:"is_print_order_info_qr_code",id:"is_print_order_info_qr_codeFalse",value:!1,"onUpdate:modelValue":t[13]||(t[13]=e=>o.editData.accept_order_setting.is_print_order_info_qr_code=e)},null,512),[[c["vModelRadio"],o.editData.accept_order_setting.is_print_order_info_qr_code]]),ra])])]),ma,ba,Object(c["createElementVNode"])("div",pa,[_a,Object(c["createElementVNode"])("div",ua,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select","onUpdate:modelValue":t[14]||(t[14]=e=>o.editData.cancel_order_setting.cancel_function_type=e)},fa,512),[[c["vModelSelect"],o.editData.cancel_order_setting.cancel_function_type]])])]),Object(c["createElementVNode"])("div",Ea,[Na,Object(c["createElementVNode"])("div",Va,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control",id:"cancelOrderDisplayName","onUpdate:modelValue":t[15]||(t[15]=e=>o.editData.cancel_order_setting.display_name=e)},null,512),[[c["vModelText"],o.editData.cancel_order_setting.display_name]])])]),Object(c["createElementVNode"])("div",ya,[va,Object(c["createElementVNode"])("div",ga,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control",id:"message","onUpdate:modelValue":t[16]||(t[16]=e=>o.editData.cancel_order_setting.message=e)},null,512),[[c["vModelText"],o.editData.cancel_order_setting.message]])])])])]),Object(c["createElementVNode"])("div",Da,[ka,Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-primary confirm-btn",onClick:t[17]||(t[17]=e=>o.updatePlatform())}," 儲存 ")])],512)):Object(c["createCommentVNode"])("",!0)])])}const Sa=e=>new Promise((t,a)=>{qe["a"].patch("/v1/basic/web_platform/config",e).then(e=>{t(e)}).catch(e=>{a(e)})});var Ia={data(){return{modal:{}}},props:{editItem:{type:Object}},inject:["searchData"],emits:["getData"],computed:{editData(){return JSON.parse(JSON.stringify(this.editItem))}},methods:{async updatePlatform(){this.$store.dispatch("setLoading");const{companyId:e}=this.searchData,t={company_id:e,...this.editData};console.log("🚀  params:",t);try{const e=await Sa(t);this.$store.dispatch("hideLoading"),console.log(e),204===e.status&&(this.$emit("getData"),this.modal.hide())}catch(a){this.$store.dispatch("hideLoading"),Object(we["e"])("無法儲存！","請聯絡客服人員"),console.log(a)}}},mounted(){this.modal=Object(Ke["b"])("editWebPlatform");document.getElementById("editWebPlatform")}};const wa=et()(Ia,[["render",Ca]]);var Ta=wa,xa=a("ca62"),Pa={data(){return{delItem:[],translate:Ie["a"],editItem:null,allEnableStore:[]}},components:{AddWebPlatform:at,EditWebPlatform:Ta,UsingStoreList:xa["a"]},provide(){return{translate:this.translate}},computed:{...Object(Se["c"])(["targetRouteAuthority","routerAuthority","platformConfig","storePlatformConfig"]),companyEditAccess(){const e=this.routerAuthority.find(e=>"網路平台類型設定"===e.name).meta.can_edit;return e},isShopManagement(){return this.$route.path.includes("shopManagement")||this.$route.path.includes("embeddedWeb")},configData(){return this.isShopManagement?[...this.storePlatformConfig]:[...this.platformConfig]}},inject:["searchData","is_embeddedWeb"],methods:{async showDeleteAlert(e){const t=await Object(we["h"])("確定刪除？","刪除後無法復原","刪除");if(t){this.$store.dispatch("setLoading");const{companyId:e,storeId:t}=this.searchData,c={company_id:e,store_id:t,ids:[...this.delItem]};try{const e=await Qe(c);console.log(e),this.$store.dispatch("hideLoading"),204===e.status&&this.getData()}catch(a){this.$store.dispatch("hideLoading"),Object(we["e"])("無法刪除！","請聯絡客服人員"),console.log(a)}}},jumpToCompany(){this.$store.commit("SET_SEARCH_COMPANY",this.searchData.companyId),this.$router.push("/basicData/companyManagement/webPlatForm")},async changeStatus(e,t,a){t.preventDefault();const{companyId:c,storeId:n}=this.searchData,l=t.target.checked,{id:o,name:s,display_name:d,is_enable:i,is_menu_maintenance:r,is_platform_connection:m}=a,b=async(t,a)=>{console.log("🚀  params:",a),a[e]=l,this.$store.dispatch("setLoading");try{const e=await t(a);console.log(e),this.$store.dispatch("hideLoading"),204===e.status?this.getData():Object(we["e"])("無法修改！",e.data.message)}catch(c){this.$store.dispatch("hideLoading"),Object(we["e"])("無法修改！","請聯絡客服人員"),console.log(c)}};if(this.isShopManagement){const e={company_id:c,store_id:n,id:o,name:s,display_name:d,is_enable:i,is_menu_maintenance:r,is_platform_connection:m};b(Ze,e)}else{console.log(a);const e={company_id:c,...a};if(!l){if(0===a.enable_stores.length)return void b(Sa,e);const t="\n          <p>尚有啟用中的門市</p>\n          <p>關閉將造成門市無法使用！</p>\n          <p>使用中門市如下：</p>";let c="";a.enable_stores.length<3?a.enable_stores.forEach(e=>{c+=`<p>${e.short_name}</p>`}):(this.allEnableStore=[...a.enable_stores],c=`<p>${a.enable_stores[0].short_name}</p>\n                    <p>${a.enable_stores[1].short_name}</p>\n                    <span class='showDetailText' data-bs-toggle='modal' data-bs-target='#usingStoreListModal' >\n                    查看更多使用中的門市資料\n                    </span>    \n                    `);const n=t+c,l=await Object(we["h"])("確定關閉？",n,"確定",!0);return void(l&&b(Sa,e))}b(Sa,e)}},async getData(){this.$store.dispatch("setLoading");const{companyId:e,storeId:t}=this.searchData,a={company_id:e},c={company_id:e,store_id:t};this.isShopManagement?await Promise.all([this.$store.dispatch("getStorePlatforms",a),this.$store.dispatch("getStoreWebPlatformConfig",c)]):e&&await this.$store.dispatch("getWebPlatformConfig",a),this.delItem.splice(0),this.$store.dispatch("hideLoading")}},created(){this.getData()}};a("7578");const Ma=et()(Pa,[["render",Ce],["__scopeId","data-v-07919822"]]);t["a"]=Ma},"7f1b":function(e,t,a){"use strict";a("2ece")},"814f":function(e,t,a){},"8ba0":function(e,t,a){},"8fb2":function(e,t,a){},"93ca":function(e,t,a){},"9b79":function(e,t,a){"use strict";a("6ecd")},c457:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const c={"當期":"PRIOR_PERIOD","同期":"SAME_PERIOD","前期":"PRIOR_PERIOD","大分類":"CATEGORY_GROUP","中分類":"CATEGORY","小分類":"CATEGORY_ITEM","商品":"PRODUCT","營業額 x 銷售量":"REVENUE_AND_SALES_VOLUME","營業額 x 毛利率":"SALES_VOLUME_AND_REVENUE","毛利率 x 銷售量":"SALES_VOLUME_AND_REVENUE","營業額 x 毛利額":"SALES_VOLUME_AND_REVENUE",NEW_CONSUMPTION:"消費新增",SALES_RETURN_REDUCTION:"銷退返還",EXCHANGE:"點數兌換",EXCHANGE_SELL_BACK:"點數兌換銷退",TRANSFER_OUT:"點數轉出",TRANSFER_IN:"點數轉入",ACTIVITY_DEDUCTION_POINTS:"活動扣點",ACTIVITY_ACCUMULATED_POINTS:"活動累點",ZERO:"點數歸零",FORCE_PRINTING:"強制列印",FORCE_INVOICING:"強制開立發票",DEFAULT_INVOICING:"預設開立發票",DEFAULT_NOT_INVOICE:"預設不開立發票",DEFAULT_PRINTING:"預設列印",DEFAULT_NOT_PRINT:"預設不列印",PRINT_DETAIL:"列印明細",PRINT_TOTAL:"列印總額",STORE_ID:"店號",STORE_SHORT_NAME:"門市簡稱",SOFTWARE_DRIVER:"軟體驅動",HARDWARE_DRIVER:"硬體驅動",ROUND_HALF_UP:"四捨五入",ROUND_HALF_DOWN:"五捨六入",ROUND_UP:"無條件進位",ROUND_DOWN:"無條件捨去",CUSTOM:"自訂",CAN_NOT_CHECKOUT:"無法結帳",NOT_INPUT:"不輸入",INPUT_RETURN_REASON:"輸入退貨原因",SHOW_MESSAGE:"顯示訊息",UNIFORM_PRICE:"統一價格",PRICE_AREA:"價格區",STORE_PRICE:"門市金額",DEFAULT:"系統預設",CATEGORY:"類別",ORDER_AREA:"菜單",Quantity:"數量",PRODUCT_CATEGORY:"依類別",PRODUCT_TYPE:"依性質",PRODUCT:"依商品",SALE_METHOD:"依銷售方式",SALE_METHOD_AND_PRODUCT_CATEGORY:"依銷售方式 + 類別",SALE_METHOD_AND_PRODUCT_TYPE:"依銷售方式 + 性質",SALE_METHOD_AND_PRODUCT:"依銷售方式 + 商品",MAIN_NAME:"商品名稱",SECOND_NAME:"第二名稱",SHORT_NAME:"簡稱",TAG:"標籤",KITCHEN_ORDER:"廚房單",KITCHEN_SUMMARY_ORDER:"廚房總單",SALE_DATE:"銷售日期",SALE_TIME:"銷售時間",TAKE_NO:"取餐號碼",MACHINE_ID:"機號",SALES_ORDER:"銷貨單",CUSTOMER_ORDER:"客戶訂貨單",TICKET_SALES:"票券銷售",INVOICE_SUMMARY:"發票彙開",POSTING:"補登",PLATFORM_BUSINESS:"平台商",MOBILE_OR_TELEPHONE:"手機號碼/電話",VIP_ID:"會員編號",QR_CODE:"QR-Code",BLESSING:"祝福語",PICKUP_TIME:"取餐時間",MEMO:"整單備註",SEQUENCE:"順序",UNUSED:"未使用",USING:"使用中",USED:"已使用",CREATED:"建立",ISSUED:"開立",NORMAL:"正常",VOID:"作廢",BLANK:"空白",TAXABLE:"應稅",TAX_EXEMPT:"免稅",ZERO_TAX:"零稅","應稅":"TAXABLE","免稅":"TAX_EXEMPT","零稅":"ZERO_TAX",SALES_ORDER:"銷貨單",BY_CHECKOUT_TIME:"依結帳時間",BY_CLEARING_TABLE_TIME:"依清桌時間",BY_SUMMARIZING_ORDERS:"依單據彙總",BY_SUMMARIZING_ITEMS:"依品項彙總",BY_BREAKING_ITEMS_DOWN:"依品項展開",BY_SUMMARIZING_ORDERS_AND_BREAKING_ITEM:"依單據彙總 + 品項展開",CUP_QUANTITY:"杯數",SALE_PRICE:"售價",TABLE_NO:"桌號",USER_NAME:"收銀員名稱",DEMOGRAPHIC:"客層",TOTAL_QUANTITY:"總數量",PRODUCT_ELEMENT:"商品成份",NOT_SET:"未設定",RECEIPT_PRINTER:"收據出單機",INVOICE_PRINTER:"發票出單機",MACHINE_CONFIG:"機台設定",RECEIPT_CONFIG:"發票設定",PARAMS_CONFIG:"參數設定",POS_CONFIG:"收銀設定",ACCOUNT_CONFIG:"帳條設定",ORDER_CONFIG:"接單設定",DEVICE_CONFIG:"裝置設定",PAYMENT_CONFIG:"門店管理付款方式設定",INVOICE_BUYS_CONFIG:"發票購入維護",INVOICE_ISSUANCE_CONFIG:"發票開立維護",NOT_PRINT:"一律不列印",PENDING_ORDER_NOT_PRINT:"掛單不列印(其他流程依參數設定決定)",BY_QUERY_WINDOW:"依詢問視窗選擇",CANCEL_ORDER:"一律取消訂單",PICK_WRONG_ORDER:"一律視為取錯單",BY_MACHINE_CONFIG:"依[裝置設定]參數設定",ACTIVE:"已生效",INACTIVE:"未生效",EXPIRED:"已過期",SPECIAL_SALE:"特賣促銷"},n=e=>c[e]||e},c535:function(e,t,a){"use strict";function c(e){return e.toString().padStart(2,"0")}a.d(t,"g",(function(){return n})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"h",(function(){return s})),a.d(t,"d",(function(){return d})),a.d(t,"a",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"f",(function(){return m}));const n=e=>e?[e.getFullYear(),c(e.getMonth()+1),c(e.getDate())].join("-"):e,l=e=>[e.getFullYear(),c(e.getMonth()+1),c(e.getDate())].join("/"),o=e=>{const t=e.getHours(),a=e.getMinutes();return`${c(t)}:${c(a)}`},s=e=>`${e.getFullYear()}${c(e.getMonth()+1)}`,d=(e,t)=>new Date(e.setDate(e.getDate()-t)),i=e=>{const t=/-/gi,a=e.replace(t,"/");return a},r=e=>{const t=e.split("-"),a=parseInt(t[0]),c=parseInt(t[1])-1,n=parseInt(t[2]);return new Date(a,c,n)},m=e=>{const t=new Date,a=e.split(":"),c=parseInt(a[0]),n=parseInt(a[1]);return t.setHours(c),t.setMinutes(n),t}},c579:function(e,t,a){"use strict";a("59eb")},c802:function(e,t,a){"use strict";a("5bb0")},ca62:function(e,t,a){"use strict";var c=a("7a23");const n=e=>(Object(c["pushScopeId"])("data-v-3c297cd6"),e=e(),Object(c["popScopeId"])(),e),l={class:"modal fade store-edit-modal",id:"usingStoreListModal",tabindex:"-1","aria-labelledby":"usingStoreLabel","aria-hidden":"true","data-bs-focus":"false"},o={class:"modal-dialog modal-dialog-centered modal-md modal-fullscreen-md-down"},s={class:"modal-content h-100",ref:"modalContent"},d=n(()=>Object(c["createElementVNode"])("div",{class:"modal-header pb-2"},[Object(c["createElementVNode"])("h2",{class:"fs-title fw-normal",id:"usingStoreLabel"}," 使用中門市清單 ")],-1)),i={class:"modal-body py-3 px-5"},r={class:"input-group align-items-center border border-1 rounded-pill mb-3"},m=n(()=>Object(c["createElementVNode"])("span",{class:"mdi mdi-magnify search-widget-icon fs-4 ps-2"},null,-1)),b={class:"table-responsive"},p={class:"table border table-hover"},_=n(()=>Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",{class:"bg-secondary-light"},[Object(c["createElementVNode"])("th",{class:"fs-medium fw-normal"},"門市編號"),Object(c["createElementVNode"])("th",{class:"fs-medium fw-normal"},"門市簡稱")])],-1)),u={class:"fs-medium"},O={class:"fs-medium"},h=n(()=>Object(c["createElementVNode"])("div",{class:"modal-footer d-center pt-2 border-0"},[Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-primary cancel-btn","data-bs-dismiss":"modal"}," 關閉 ")],-1));function j(e,t,a,n,j,f){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",s,[d,Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",r,[m,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control border-0 rounded-pill",placeholder:"搜尋門市編號、門市簡稱","onUpdate:modelValue":t[0]||(t[0]=e=>j.storeKeyWord=e)},null,512),[[c["vModelText"],j.storeKeyWord]])]),Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("table",p,[_,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(f.storeList,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",null,[Object(c["createElementVNode"])("td",u,Object(c["toDisplayString"])(e.id),1),Object(c["createElementVNode"])("td",O,Object(c["toDisplayString"])(e.short_name),1)]))),256))])])])]),h],512)])])}a("55cb"),a("31c3");var f={data(){return{storeKeyWord:"",tempData:[{id:"PC243",short_name:"中壢福州"},{id:"PC244",short_name:"內湖康寧"},{id:"PC252",short_name:"宜蘭新民"},{id:"PC253",short_name:"南京三民"},{id:"PC255p",short_name:"永康中華"},{id:"PC266",short_name:"台中文心"},{id:"PC277",short_name:"高雄左營"},{id:"PC288",short_name:"新竹東區"},{id:"PC299",short_name:"台北西門"},{id:"PC310",short_name:"桃園中正"},{id:"PC321",short_name:"彰化南校"},{id:"PC332",short_name:"台南北區"},{id:"PC343",short_name:"嘉義西區"},{id:"PC354",short_name:"基隆安樂"},{id:"PC365",short_name:"新店北新"}]}},props:{allEnableStore:{type:Array}},computed:{storeList(){return 0===this.allEnableStore.length?this.tempData.filter(e=>e.id.match(this.storeKeyWord)||e.short_name.match(this.storeKeyWord)):this.allEnableStore.filter(e=>e.id.match(this.storeKeyWord)||e.short_name.match(this.storeKeyWord))}},mounted(){const e=document.getElementById("usingStoreListModal");e.addEventListener("show.bs.modal",()=>{this.storeKeyWord=""})}},E=(a("7f1b"),a("6b0d")),N=a.n(E);const V=N()(f,[["render",j],["__scopeId","data-v-3c297cd6"]]);t["a"]=V},e315:function(e,t,a){"use strict";a("93ca")}}]);