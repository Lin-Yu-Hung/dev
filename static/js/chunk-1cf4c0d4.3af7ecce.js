(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cf4c0d4"],{"0e3e":function(e,t,c){"use strict";c.r(t);var a=c("7a23");const s={class:"card p-3 mt-5"};function o(e,t,c,o,r,l){const n=Object(a["resolveComponent"])("PageHeader"),i=Object(a["resolveComponent"])("ProductShelf"),d=Object(a["resolveComponent"])("MessageToast"),b=Object(a["resolveComponent"])("Layout");return Object(a["openBlock"])(),Object(a["createBlock"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(n,{title:r.title,items:r.items},null,8,["title","items"]),Object(a["createElementVNode"])("div",s,[Object(a["createVNode"])(i)]),Object(a["createVNode"])(d)]),_:1})}var r=c("6a34"),l=c("2579"),n=c("1386"),i=c("7e72"),d={data(){return{title:"商品上下架",items:[{text:"",href:""},{text:"商品上下架",active:!0}]}},components:{Layout:r["a"],PageHeader:l["a"],ProductShelf:n["a"],MessageToast:i["a"]},methods:{},mounted(){this.$store.dispatch("getCategories")}},b=c("6b0d"),m=c.n(b);const p=m()(d,[["render",o]]);t["default"]=p},1386:function(e,t,c){"use strict";var a=c("7a23");const s=e=>(Object(a["pushScopeId"])("data-v-68b49299"),e=e(),Object(a["popScopeId"])(),e),o={key:0,class:"row g-0"},r={class:"col-md-3 border-end"},l={class:"stickySidebar position-sticky"},n=s(()=>Object(a["createElementVNode"])("p",{class:"bg-light py-2 ps-3 mb-3"},"類別",-1)),i={class:"searchlist-input input-group ps-2 pe-3 mb-3"},d=s(()=>Object(a["createElementVNode"])("span",{class:"input-group-text text-secondary bg-transparent pe-0 ri-search-line"},null,-1)),b={class:"list-unstyled dropdown-list ps-2 pe-3 mb-0",ref:"categorySidebar"},m=["onClick"],p={class:"col-md-9"},u=s(()=>Object(a["createElementVNode"])("p",{class:"bg-light py-2 ps-3 mb-3"},"商品",-1)),g={class:"d-between ps-3 mb-3"},h={class:"searchlist-input input-group w-25"},O=s(()=>Object(a["createElementVNode"])("span",{class:"input-group-text text-secondary bg-transparent pe-0 ri-search-line"},null,-1)),j=s(()=>Object(a["createElementVNode"])("option",{value:"ALL"},"全部",-1)),v=s(()=>Object(a["createElementVNode"])("option",{value:"ON_SHELVE",selected:""},"銷售商品",-1)),y=s(()=>Object(a["createElementVNode"])("option",{value:"OFF_SHELVE"},"停售商品",-1)),f=[j,v,y],E={class:"ps-4 pe-2"},k=Object(a["createStaticVNode"])('<div class="row bg-light border-bottom py-2" data-v-68b49299><div class="col-3" data-v-68b49299><p class="text-center" data-v-68b49299>商品編號</p></div><div class="col-4" data-v-68b49299><p class="text-center" data-v-68b49299>商品名稱</p></div><div class="col-3" data-v-68b49299><p class="text-center" data-v-68b49299>商品圖片</p></div><div class="col-2" data-v-68b49299><p class="text-center" data-v-68b49299>商品銷/停售</p></div></div>',1),V={class:"col-3 d-center"},N={class:"col-4 d-center"},S={class:"col-3"},w={class:"thumbnail bg-center"},C={class:"col-2 d-center"},x={class:"form-check form-switch"},B=["id","onUpdate:modelValue"],P=["for"],L={key:1,class:"mt-5"},_={class:"fs-5 text-secondary text-center"},D={key:1,class:"d-center"},T=s(()=>Object(a["createElementVNode"])("p",{class:"fs-5 text-primary py-5 mt-5"},"此類別無商品",-1)),I=[T],K={key:1,class:"text-center fs-2 fw-bold py-5 mt-5"};function $(e,t,c,s,j,v){const y=Object(a["resolveDirective"])("bgImg"),T=Object(a["resolveDirective"])("preventReClick");return e.categories.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",l,[n,Object(a["createElementVNode"])("div",i,[d,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>j.categoryKeyword=e),class:"form-control form-control-sm border-start-0 ps-2",placeholder:"搜尋類別","aria-label":"搜尋類別"},null,512),[[a["vModelText"],j.categoryKeyword]])]),Object(a["createElementVNode"])("ul",b,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(v.filterCategories,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:e.id,class:Object(a["normalizeClass"])(["form-check border-bottom",{active:j.targetCategoryId==e.id}])},[Object(a["createElementVNode"])("button",{type:"button",class:"d-between btn px-0 w-100",onClick:t=>v.setTargetCategoryInfo(e.id)},Object(a["toDisplayString"])(e.name),9,m)],2))),128))],512)])]),Object(a["createElementVNode"])("div",p,[u,e.hasOnlineProducts?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createElementVNode"])("div",g,[Object(a["createElementVNode"])("div",h,[O,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>j.productKeyword=e),class:"form-control form-control-sm border-start-0 ps-2",placeholder:"搜尋商品","aria-label":"搜尋類別"},null,512),[[a["vModelText"],j.productKeyword]])]),Object(a["createElementVNode"])("select",{class:"shelveStatus form-select w-20","aria-label":"商品銷售狀態篩選欄位",onChange:t[2]||(t[2]=e=>v.changeShelveStatus(e))},f,32)]),Object(a["createElementVNode"])("div",E,[k,v.filterCategoryProducts.length>0?(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],{key:0},Object(a["renderList"])(v.filterCategoryProducts,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"row border-bottom py-3",key:e.id},[Object(a["createElementVNode"])("div",V,[Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(e.id),1)]),Object(a["createElementVNode"])("div",N,[Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(e.title),1)]),Object(a["createElementVNode"])("div",S,[Object(a["withDirectives"])(Object(a["createElementVNode"])("div",w,null,512),[[y,e.img]])]),Object(a["createElementVNode"])("div",C,[Object(a["createElementVNode"])("div",x,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"switchBtn form-check-input",type:"checkbox",id:e.id,"onUpdate:modelValue":t=>e.on_shelve=t,onClick:t[3]||(t[3]=(...e)=>v.changeProductShelveStatus&&v.changeProductShelveStatus(...e))},null,8,B),[[a["vModelCheckbox"],e.on_shelve],[T,"1500"]]),Object(a["createElementVNode"])("label",{class:Object(a["normalizeClass"])(["form-check-label switchBtnLabel",{on:e.on_shelve,off:!e.on_shelve}]),for:e.id},Object(a["toDisplayString"])(e.on_shelve?"銷售":"停售"),11,P)])])]))),128)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",L,[Object(a["createElementVNode"])("p",_," 此類別無"+Object(a["toDisplayString"])("ON_SHELVE"==j.shelveStatus?"銷售":"停售")+"商品 ",1)]))])],64)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",D,I))])])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",K," 目前沒有任何商品類別及商品 "))}var A=c("5502"),F={data(){return{productList:"",categoryKeyword:"",productKeyword:"",targetCategoryId:"",shelveStatus:"ON_SHELVE"}},watch:{onlineProducts:{immediate:!0,deep:!0,handler(){this.productList=this.onlineProducts}},filterCategories:{immediate:!0,deep:!0,handler(){this.filterCategories.length>0&&this.setTargetCategoryInfo(this.filterCategories[0].id)}}},computed:{...Object(A["c"])(["categories","onlineProducts","hasOnlineProducts"]),filterCategories(){if(Array.isArray(this.categories)){const e=JSON.parse(JSON.stringify(this.categories)),t=e.filter(e=>e.name.match(this.categoryKeyword));return t}return[]},filterCategoryProducts(){if(Array.isArray(this.onlineProducts)){const e=JSON.parse(JSON.stringify(this.onlineProducts)),t=e.filter(e=>e.title.match(this.productKeyword)||e.id.match(this.productKeyword));return t}return[]}},methods:{setTargetCategoryInfo(e){this.targetCategoryId=e,this.setTargetCategoryProducts(e),window.scroll(0,0)},setTargetCategoryProducts(e){const t={category_id:e,sale_status:this.shelveStatus};this.$store.dispatch("getOnlineProducts",t)},changeShelveStatus(e){this.shelveStatus=e.target.value,this.setTargetCategoryProducts(this.targetCategoryId)},changeProductShelveStatus(e){e.target.checked?(e.target.labels[0].textContent="銷售",e.target.labels[0].classList.add("on"),e.target.labels[0].classList.remove("off")):(e.target.labels[0].textContent="停售",e.target.labels[0].classList.add("off"),e.target.labels[0].classList.remove("on")),this.changeProductStatus(e.target.id,e.target.checked)},changeProductStatus(e,t){const c={product:{id:e,on_shelve:t},category_id:this.targetCategoryId,sale_status:this.shelveStatus};this.$store.dispatch("updateProductStatus",c)}},mounted(){window.addEventListener("scroll",()=>{window.pageYOffset>0&&this.$refs.categorySidebar?this.$refs.categorySidebar.style.height="calc(100vh - 240px)":0===window.pageYOffset&&(this.$refs.categorySidebar.style.height="calc(100vh - 300px)")})}},H=(c("b493"),c("6b0d")),J=c.n(H);const M=J()(F,[["render",$],["__scopeId","data-v-68b49299"]]);t["a"]=M},2579:function(e,t,c){"use strict";var a=c("7a23");const s={class:"row mb-lg-4 mb-5"},o={class:"col-12"},r={ref:"pageTitle",class:"page-title-box d-sm-flex align-items-center justify-content-between"},l={class:"mb-sm-0"},n={class:"page-title-right me-5"},i={class:"breadcrumb m-0"},d=["onClick"];function b(e,t,c,b,m,p){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",s,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("h4",l,Object(a["toDisplayString"])(c.title),1),Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("ol",i,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(c.items,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{class:"breadItem",key:t},[Object(a["createElementVNode"])("a",{onClick:c=>p.goBack(e.text,t),href:"javascript: void(0);",class:Object(a["normalizeClass"])(["text-nowrap",{active:t+1==c.items.length}])},Object(a["toDisplayString"])(e.text)+Object(a["toDisplayString"])(t+1==c.items.length?"":"　>　"),11,d)]))),128))])])],512)])])}var m={components:{},props:{title:{type:String,default:""},items:{type:Array,default:()=>[]}},methods:{goBack(e,t){0===t&&"訂貨系統"!==e&&this.$route.path.includes("orderingSystem")&&this.$router.back()}},mounted(){}},p=(c("7477"),c("6b0d")),u=c.n(p);const g=u()(m,[["render",b],["__scopeId","data-v-0a664056"]]);t["a"]=g},"4d14":function(e,t,c){},7477:function(e,t,c){"use strict";c("4d14")},"7e72":function(e,t,c){"use strict";var a=c("7a23");const s={"aria-live":"polite","aria-atomic":"true",class:"d-flex justify-content-center align-items-center"},o={id:"messageToast",class:"topCenterToast errorToast toast",role:"alert","aria-live":"assertive","aria-atomic":"true"},r={class:"toast-body d-flex align-items-center"},l=Object(a["createElementVNode"])("button",{type:"button",class:"btn-close btn-close-danger me-2","data-bs-dismiss":"toast","aria-label":"Close"},null,-1);function n(e,t,c,n,i,d){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",s,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",r,[l,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(i.message),1)])])])}var i=c("cfb9"),d={data(){return{message:""}},mounted(){i["a"].on("emit-message-toast",e=>{this.message=e})}},b=c("6b0d"),m=c.n(b);const p=m()(d,[["render",n]]);t["a"]=p},b493:function(e,t,c){"use strict";c("dec8")},dec8:function(e,t,c){}}]);